!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{getState:function(){return q},lock:function(){return z},unlock:function(){return j}});var n={};e.r(n),e.d(n,{getMetadata:function(){return te}});var r={};e.r(r),e.d(r,{getEmailConfiguration:function(){return se},updateForCurrentUser:function(){return ue}});var o={};e.r(o),e.d(o,{getDetailsForUniverseIds:function(){return pe}});var i={};e.r(i),e.d(i,{getMySettingsInfo:function(){return he}});var a={};e.r(a),e.d(a,{getMetadata:function(){return Ue},resendCode:function(){return we},sendCodeForUser:function(){return Pe},validateCode:function(){return Re}});var u={};e.r(u),e.d(u,{changeForCurrentUser:function(){return We},resetSendPrompted:function(){return Be},validate:function(){return Ye}});var s={};e.r(s),e.d(s,{getPhoneConfiguration:function(){return ze}});var c={};e.r(c),e.d(c,{disconnectPlaystation:function(){return at},getPlaystationConnection:function(){return it}});var l={};e.r(l),e.d(l,{getAllForCurrentUser:function(){return St},updateForCurrentUser:function(){return vt}});var d={};e.r(d),e.d(d,{getPuzzle:function(){return Ct},verifyPuzzle:function(){return Pt}});var p={};e.r(p),e.d(p,{generateToken:function(){return Dt}});var f={};e.r(f),e.d(f,{verifyPuzzle:function(){return Wt}});var E={};e.r(E),e.d(E,{answerQuestion:function(){return Jt},getQuestion:function(){return zt}});var m={};e.r(m),e.d(m,{getSessions:function(){return pn},logoutFromAllSessionsAndReauthenticate:function(){return En},logoutSession:function(){return fn}});var h={};e.r(h),e.d(h,{getIconsForUniverseIds:function(){return Nn}});var S={};e.r(S),e.d(S,{queryAndOverwriteResourcesForNamespace:function(){return Dn}});var v={};e.r(v),e.d(v,{deleteSecurityKey:function(){return Sr},disableAuthenticator:function(){return ir},disableEmailTwoStepVerification:function(){return tr},disableSmsTwoStepVerification:function(){return pr},enableAuthenticator:function(){return nr},enableEmailTwoStepVerification:function(){return Zn},enableSecurityKey:function(){return fr},enableSmsTwoStepVerification:function(){return cr},enableVerifyAuthenticator:function(){return rr},enableVerifySecurityKey:function(){return Er},generateRecoveryCodes:function(){return sr},generateResaleFrictionChallenge:function(){return br},generateSpendFrictionChallenge:function(){return Tr},generateTradeFrictionChallenge:function(){return Or},getMetadata:function(){return zn},getRecoveryCodesStatus:function(){return ur},getResaleFrictionStatus:function(){return Nr},getSecurityKeyOptions:function(){return mr},getSpendFrictionStatus:function(){return Ar},getTradeFrictionStatus:function(){return _r},getUserConfiguration:function(){return Jn},listSecurityKey:function(){return vr},redeemResaleFrictionChallenge:function(){return Pr},redeemSpendFrictionChallenge:function(){return yr},redeemTradeFrictionChallenge:function(){return Cr},retractCrossDevice:function(){return Ur},retryCrossDevice:function(){return wr},sendEmailCode:function(){return $n},sendSmsCode:function(){return lr},verifyAuthenticatorCode:function(){return or},verifyCrossDevice:function(){return Rr},verifyEmailCode:function(){return er},verifyRecoveryCode:function(){return ar},verifySecurityKeyCredential:function(){return hr},verifySmsCode:function(){return dr}});var A={};e.r(A),e.d(A,{getSettingsUiPolicy:function(){return Fr}});var _={};e.r(_),e.d(_,{disconnectXbox:function(){return Kr},getXboxConnection:function(){return Gr}});var N={};e.r(N),e.d(N,{recordMetric:function(){return zr}});var T={};e.r(T),e.d(T,{getPatToken:function(){return ro}});var O={};e.r(O),e.d(O,{continueChallenge:function(){return lo}});var b={};e.r(b),e.d(b,{deletePasskeyBatch:function(){return No},finishPasskeyRegistration:function(){return _o},listAllCredentials:function(){return To},startPasskeyRegistration:function(){return Ao}});var y,C,P=Roblox,w=e.n(P),R=React,U=e.n(R),I=ReactDOM,D=CoreUtilities,g=function(e){return{isError:!1,value:e}},L=g,M=function(e,t,n){return void 0===n&&(n=null),{isError:!0,error:e,errorRaw:t,errorStatusCode:n}},k=function(e,t){return e.isError?e:g(t(e.value))},F=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},x=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},V=function(e){return"object"!=typeof e?null:function(e){var t=[];if(!e||"object"!=typeof e)return[];var n=e.errors;return n instanceof Array?(n.forEach((function(e){if(e&&"object"==typeof e){var n=e.code;"number"==typeof n&&t.push(n)}})),t):[]}(e.data)[0]||null},H=function(e,t){return null==e?null:Object.values(e).includes(t)?t:null},W=function(e,t,n){return F(void 0,void 0,Promise,(function(){var r,o,i,a;return x(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,e];case 1:return r=u.sent(),void 0!==n?[2,L(n(r.data))]:[2,L(r.data)];case 2:return o=u.sent(),i=V(o),a=function(e){if("object"!=typeof e||null===e)return null;var t=e.status||null;return"number"!=typeof t?null:t}(o),[2,M(H(t,i),o,a)];case 3:return[2]}}))}))},B=null!==(y=P.EnvironmentUrls.authApi)&&void 0!==y?y:"URL_NOT_FOUND";!function(e){e[e.NO_ACCOUNT_PIN=1]="NO_ACCOUNT_PIN",e[e.ACCOUNT_LOCKED=2]="ACCOUNT_LOCKED",e[e.FLOODED=3]="FLOODED",e[e.INCORRECT_PIN=4]="INCORRECT_PIN"}(C||(C={}));var Y,G,K={withCredentials:!0,url:B+"/v1/account/pin",timeout:1e4},Q={withCredentials:!0,url:B+"/v1/account/pin/unlock",timeout:1e4},X={withCredentials:!0,url:B+"/v1/account/pin/lock",timeout:1e4},q=function(){return W(D.httpService.get(K),C)},j=function(e){return W(D.httpService.post(Q,{pin:e}),C)},z=function(){return W(D.httpService.post(X),C)},J=(null!==(Y=P.EnvironmentUrls.apiGatewayCdnUrl)&&void 0!==Y?Y:"URL_NOT_FOUND")+"/captcha";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(G||(G={}));var Z,$,ee={url:J+"/v1/metadata",timeout:6e4},te=function(){return W(D.httpService.get(ee,{}),G)},ne=null!==(Z=P.EnvironmentUrls.accountSettingsApi)&&void 0!==Z?Z:"URL_NOT_FOUND";!function(e){e[e.FEATURE_DISABLED=2]="FEATURE_DISABLED",e[e.TOO_MANY_ACCOUNTS_ON_EMAIL=3]="TOO_MANY_ACCOUNTS_ON_EMAIL",e[e.TOO_MANY_ATTEMPTS_TO_UPDATE_EMAIL=6]="TOO_MANY_ATTEMPTS_TO_UPDATE_EMAIL",e[e.INVALID_EMAIL_ADDRESS=9]="INVALID_EMAIL_ADDRESS"}($||($={}));var re,oe,ie={withCredentials:!0,url:ne+"/v1/email",timeout:1e4},ae={withCredentials:!0,url:ne+"/v1/email",timeout:1e4},ue=function(e){return W(D.httpService.post(ie,{emailAddress:e,skipVerificationEmail:!0}),$)},se=function(){return W(D.httpService.get(ae),$)},ce=null!==(re=P.EnvironmentUrls.gamesApi)&&void 0!==re?re:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(oe||(oe={}));var le,de={url:ce+"/v1/games",timeout:1e4},pe=function(e){return W(D.httpService.get(de,{universeIds:e}),oe)};!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(le||(le={}));var fe,Ee,me={withCredentials:!0,url:"/my/settings/json",timeout:1e4},he=function(){return W(D.httpService.get(me,{}),le)},Se=(null!==(fe=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==fe?fe:"URL_NOT_FOUND")+"/otp-service";!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.UNKNOWN=1]="UNKNOWN",e[e.INVALID_CODE=2]="INVALID_CODE",e[e.INVALID_SESSION_TOKEN=3]="INVALID_SESSION_TOKEN",e[e.CODE_EXPIRED=4]="CODE_EXPIRED",e[e.UNVALIDATED_SESSION_TOKEN=5]="UNVALIDATED_SESSION_TOKEN",e[e.TOO_MANY_REQUESTS=6]="TOO_MANY_REQUESTS",e[e.CONTACT_MALFORMED=7]="CONTACT_MALFORMED",e[e.VPN_REQUIRED=8]="VPN_REQUIRED",e[e.UNAUTHENTICATED=9]="UNAUTHENTICATED",e[e.METHOD_UNAVAILABLE=10]="METHOD_UNAVAILABLE"}(Ee||(Ee={}));var ve,Ae,_e,Ne={withCredentials:!0,url:Se+"/v1/sendCodeForUser",timeout:1e4},Te={withCredentials:!0,url:Se+"/v1/resendCode",timeout:1e4},Oe={withCredentials:!0,url:Se+"/v1/validateCode",timeout:1e4},be={withCredentials:!0,url:Se+"/v1/metadata",timeout:1e4};!function(e){e.Unset="Unset",e.Email="Email"}(ve||(ve={})),function(e){e.Reauth="Reauth"}(Ae||(Ae={})),function(e){e.Default="Default"}(_e||(_e={}));var ye,Ce,Pe=function(e){return W(D.httpService.post(Ne,{contactType:e,origin:Ae.Reauth,messageVariant:_e.Default}),Ee)},we=function(e,t){return W(D.httpService.post(Te,{contactType:e,origin:Ae.Reauth,otpSessionToken:t}),Ee)},Re=function(e,t,n){return W(D.httpService.post(Oe,{contactType:e,origin:Ae.Reauth,passCode:n,otpSessionToken:t}),Ee)},Ue=function(){return W(D.httpService.get(be,{Origin:Ae.Reauth}),Ee)},Ie=null!==(ye=P.EnvironmentUrls.authApi)&&void 0!==ye?ye:"URL_NOT_FOUND";!function(e){e[e.FLOODED=2]="FLOODED",e[e.INVALID_PASSWORD=7]="INVALID_PASSWORD",e[e.INVALID_CURRENT_PASSWORD=8]="INVALID_CURRENT_PASSWORD",e[e.PIN_LOCKED=9]="PIN_LOCKED"}(Ce||(Ce={}));var De,ge={withCredentials:!0,url:Ie+"/v2/user/passwords/change",timeout:1e4};!function(e){e[e.USER_DOES_NOT_HAVE_EMAIL=22]="USER_DOES_NOT_HAVE_EMAIL"}(De||(De={}));var Le,Me={withCredentials:!0,url:Ie+"/v2/passwords/reset/send-prompted",timeout:1e4};!function(e){e[e.VALID_PASSWORD=0]="VALID_PASSWORD",e[e.WEAK_PASSWORD=1]="WEAK_PASSWORD",e[e.SHORT_PASSWORD=2]="SHORT_PASSWORD",e[e.PASSWORD_SAME_AS_USERNAME=3]="PASSWORD_SAME_AS_USERNAME",e[e.FORBIDDEN_PASSWORD=4]="FORBIDDEN_PASSWORD",e[e.DUMB_STRINGS=5]="DUMB_STRINGS"}(Le||(Le={}));var ke,Fe,xe={withCredentials:!0,url:Ie+"/v2/passwords/validate",timeout:1e4},Ve=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},He=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},We=function(e,t){return W(D.httpService.post(ge,{currentPassword:e,newPassword:t}),Ce)},Be=function(){return W(D.httpService.post(Me),De)},Ye=function(e,t){return Ve(void 0,void 0,Promise,(function(){return He(this,(function(n){return[2,W(D.httpService.post(xe,{username:e,password:t}),null).then((function(e){return k(e,(function(e){return H(Le,e.code)}))}))]}))}))},Ge=null!==(ke=P.EnvironmentUrls.accountInformationApi)&&void 0!==ke?ke:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Fe||(Fe={}));var Ke,Qe,Xe={withCredentials:!0,url:Ge+"/v1/phone",timeout:1e4},qe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},je=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ze=function(){return qe(void 0,void 0,Promise,(function(){return je(this,(function(e){return[2,W(D.httpService.get(Xe,{}),Fe)]}))}))},Je=null!==(Ke=P.EnvironmentUrls.authApi)&&void 0!==Ke?Ke:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Qe||(Qe={}));var Ze,$e,et,tt,nt,rt={withCredentials:!0,url:Je+"/v1/"+"palisades-live/is-live",timeout:1e4},ot={withCredentials:!0,url:Je+"/v1/"+"palisades-live/disconnect",timeout:1e4},it=function(){return W(D.httpService.get(rt,{}),Qe)},at=function(){return W(D.httpService.post(ot,{}),Qe)},ut=(null!==(Ze=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Ze?Ze:"URL_NOT_FOUND")+"/account-security-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.PROMPT_ASSIGNMENT_WAS_NOT_UPDATED=3]="PROMPT_ASSIGNMENT_WAS_NOT_UPDATED",e[e.UNKNOWN_PROMPT_TYPE=4]="UNKNOWN_PROMPT_TYPE"}($e||($e={})),function(e){e.TEXT_ONLY_BANNER="DISPLAY_TYPE_TEXT_ONLY_BANNER"}(et||(et={})),function(e){e.GLOBAL="PAGE_RESTRICTION_GLOBAL",e.HOME_PAGE_ONLY="PAGE_RESTRICTION_HOME_PAGE"}(tt||(tt={})),function(e){e.CHANGE_PASSWORD__SUSPECTED_COMPROMISE="PROMPT_TYPE_CHANGE_PASSWORD__SUSPECTED_COMPROMISE",e.CHANGE_PASSWORD__BREACHED_CREDENTIAL="PROMPT_TYPE_CHANGE_PASSWORD__BREACHED_CREDENTIAL",e.AUTHENTICATOR_UPSELL="PROMPT_TYPE_AUTHENTICATOR_UPSELL",e.ACCOUNT_RESTORES_POLICY_UPDATE="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPDATE",e.ACCOUNT_RESTORES_POLICY_UPDATE_V2="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPDATE_V2",e.ACCOUNT_RESTORES_POLICY_UPDATE_V3="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPDATE_V3",e.ACCOUNT_RESTORES_POLICY_UPSELL="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPSELL",e.BROADER_AUTHENTICATOR_UPSELL="PROMPT_TYPE_BROADER_AUTHENTICATOR_UPSELL",e.EMAIL_2SV_UPSELL="PROMPT_TYPE_EMAIL_2SV_UPSELL"}(nt||(nt={}));var st,ct={withCredentials:!0,url:ut+"/v1/prompt-assignments",timeout:1e4};!function(e){e.DISMISS_PROMPT="DISMISS_PROMPT",e.DISABLE_PROMPT="DISABLE_PROMPT"}(st||(st={}));var lt,dt,pt,ft={withCredentials:!0,url:ut+"/v1/prompt-assignments",timeout:1e4},Et=function(){return(Et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},mt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},ht=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},St=function(){return mt(void 0,void 0,Promise,(function(){var e;return ht(this,(function(t){switch(t.label){case 0:return[4,W(D.httpService.get(ct,{shouldReturnMetadata:!0}),$e)];case 1:return(e=t.sent()).isError?[2,e]:[2,e=Et(Et({},e),{value:e.value.filter((function(e){return e.isGeneric?Object.values(et).includes(e.metadata.displayType):Object.values(nt).includes(e.promptType)}))})]}}))}))},vt=function(e,t){return W(D.httpService.post(ft,{action:e,promptType:t}),$e)},At=(null!==(lt=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==lt?lt:"URL_NOT_FOUND")+"/proof-of-work-service";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.REQUEST_INVALID=1]="REQUEST_INVALID",e[e.SESSION_INACTIVE=2]="SESSION_INACTIVE"}(dt||(dt={})),function(e){e[e.TIME_LOCK=0]="TIME_LOCK"}(pt||(pt={}));var _t,Nt,Tt={withCredentials:!0,url:At+"/v1/pow-puzzle",timeout:1e4},Ot={withCredentials:!0,url:At+"/v1/pow-puzzle",timeout:1e4},bt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},yt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Ct=function(e){return W(D.httpService.get(Tt,{sessionID:e}),dt)},Pt=function(e,t){return bt(void 0,void 0,Promise,(function(){return yt(this,(function(n){return[2,W(D.httpService.post(Ot,{sessionID:e,solution:t}),dt)]}))}))},wt=(null!==(_t=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==_t?_t:"URL_NOT_FOUND")+"/reauthentication-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.PASSWORD_INCORRECT=3]="PASSWORD_INCORRECT",e[e.OTP_EMAIL_REDEEM_FAILURE=4]="OTP_EMAIL_REDEEM_FAILURE"}(Nt||(Nt={}));var Rt,Ut,It={withCredentials:!0,url:wt+"/v1/token/generate",timeout:1e4},Dt=function(e){return W(D.httpService.post(It,e),Nt)},gt=(null!==(Rt=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Rt?Rt:"URL_NOT_FOUND")+"/rostile";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INTERNAL_ERROR=1]="INTERNAL_ERROR",e[e.INVALID_REQUEST=2]="INVALID_REQUEST",e[e.INVALID_SESSION=3]="INVALID_SESSION"}(Ut||(Ut={}));var Lt,Mt,kt,Ft,xt={withCredentials:!0,url:gt+"/v1/verify",timeout:1e4},Vt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Ht=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Wt=function(e,t){return Vt(void 0,void 0,Promise,(function(){return Ht(this,(function(n){return[2,W(D.httpService.post(xt,{challengeId:e,solution:t}),Ut)]}))}))},Bt=(null!==(Lt=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Lt?Lt:"URL_NOT_FOUND")+"/account-security-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.SECURITY_QUESTIONS_DISABLED=3]="SECURITY_QUESTIONS_DISABLED",e[e.SESSION_INACTIVE=4]="SESSION_INACTIVE",e[e.QUESTION_NOT_FOUND=5]="QUESTION_NOT_FOUND",e[e.ANSWER_WRONG_FORMAT=6]="ANSWER_WRONG_FORMAT"}(Mt||(Mt={})),function(e){e[e.INVALID=0]="INVALID",e[e.MOST_RECENT_GAMES_PLAYED=1]="MOST_RECENT_GAMES_PLAYED"}(kt||(kt={})),function(e){e[e.PICK_ALL_CORRECT_CHOICES=0]="PICK_ALL_CORRECT_CHOICES",e[e.PICK_C_CORRECT_CHOICES=1]="PICK_C_CORRECT_CHOICES"}(Ft||(Ft={}));var Yt,Gt,Kt,Qt,Xt,qt={withCredentials:!0,url:Bt+"/v1/security-question",timeout:1e4},jt={withCredentials:!0,url:Bt+"/v1/security-question",timeout:1e4},zt=function(e,t){return W(D.httpService.get(qt,{userId:e,sessionId:t}),Mt)},Jt=function(e,t,n){return W(D.httpService.post(jt,{userId:e,answer:t,sessionId:n}),Mt)},Zt="URL_NOT_FOUND",$t=null!==(Yt=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Yt?Yt:Zt,en=null!==(Gt=P.EnvironmentUrls.authApi)&&void 0!==Gt?Gt:Zt,tn=$t+"/token-metadata-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.ATTEMPT_TO_INVALIDATE_CURRENT_TOKEN=3]="ATTEMPT_TO_INVALIDATE_CURRENT_TOKEN"}(Kt||(Kt={})),function(e){e[e.UNKNOWN=1]="UNKNOWN"}(Qt||(Qt={})),function(e){e.UNKNOWN="Unknown",e.APP="App",e.BROWSER="Browser",e.STUDIO="Studio"}(Xt||(Xt={}));var nn,rn,on,an,un={withCredentials:!0,url:tn+"/v1/sessions",timeout:1e4},sn={withCredentials:!0,url:tn+"/v1/logout",timeout:1e4},cn={withCredentials:!0,url:en+"/v1/logoutfromallsessionsandreauthenticate",timeout:1e4},ln=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},dn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},pn=function(e,t){return ln(void 0,void 0,Promise,(function(){return dn(this,(function(n){return[2,W(D.httpService.get(un,{nextCursor:e,desiredLimit:t}),Kt)]}))}))},fn=function(e){return ln(void 0,void 0,Promise,(function(){return dn(this,(function(t){return[2,W(D.httpService.post(sn,{token:e}),Kt)]}))}))},En=function(){return ln(void 0,void 0,Promise,(function(){return dn(this,(function(e){return[2,W(D.httpService.post(cn,{}),Qt)]}))}))},mn=null!==(nn=P.EnvironmentUrls.thumbnailsApi)&&void 0!==nn?nn:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(rn||(rn={})),function(e){e.PNG="Png",e.JPEG="Jpeg"}(on||(on={})),function(e){e.ERROR="Error",e.COMPLETED="Completed",e.IN_REVIEW="InReview",e.PENDING="Pending",e.BLOCKED="Blocked"}(an||(an={}));var hn,Sn,vn,An,_n={url:mn+"/v1/games/icons",timeout:1e4},Nn=function(e,t,n,r){return W(D.httpService.get(_n,{universeIds:e,size:t,format:n,isCircular:r}),rn)},Tn="https://translations."+(null!==(hn=P.EnvironmentUrls.domain)&&void 0!==hn?hn:"URL_NOT_FOUND");!function(e){e.EN_US="en_us"}(Sn||(Sn={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INVALID_LOCALE=1]="INVALID_LOCALE",e[e.CONSUMER_TYPE_NOT_SUPPORTED=2]="CONSUMER_TYPE_NOT_SUPPORTED",e[e.TRANSLATIONS_DO_NOT_EXIST=3]="TRANSLATIONS_DO_NOT_EXIST",e[e.FEATURE_DISABLED=4]="FEATURE_DISABLED"}(vn||(vn={})),function(e){e.Web="Web"}(An||(An={}));var On,bn,yn,Cn,Pn={withCredentials:!0,url:Tn+"/v1/translations/language-resources",timeout:6e4},wn=function(){return(wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Rn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Un=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},In=function(e,t,n,r){return Rn(void 0,void 0,Promise,(function(){var o;return Un(this,(function(i){switch(i.label){case 0:return[4,W(D.httpService.get(Pn,{consumerType:e,contentNamespace:t,keys:n,localeCode:r}),vn)];case 1:return!(o=i.sent()).isError||o.error!==vn.INVALID_LOCALE&&o.error!==vn.TRANSLATIONS_DO_NOT_EXIST||r===Sn.EN_US?[2,o]:[2,In(e,t,n,Sn.EN_US)]}}))}))},Dn=function(e,t,n,r){return void 0===n&&(n=e),void 0===r&&(r=!1),Rn(void 0,void 0,Promise,(function(){var o,i;return Un(this,(function(a){switch(a.label){case 0:return[4,In(An.Web,e,t)];case 1:return(o=a.sent()).isError?[2,o]:((i=w()||{}).LangDynamic=i.LangDynamic||{},i.LangDynamic[n]=n!==e||r?wn(wn({},i.LangDynamic[n]),o.value):o.value,[2,L(void 0)])}}))}))},gn="URL_NOT_FOUND",Ln=null!==(On=P.EnvironmentUrls.twoStepVerificationApi)&&void 0!==On?On:gn,Mn=null!==(bn=P.EnvironmentUrls.economyApi)&&void 0!==bn?bn:gn,kn=null!==(yn=P.EnvironmentUrls.tradesApi)&&void 0!==yn?yn:gn,Fn=1e4;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INVALID_CHALLENGE_ID=1]="INVALID_CHALLENGE_ID",e[e.INVALID_USER_ID=2]="INVALID_USER_ID",e[e.INVALID_EMAIL=3]="INVALID_EMAIL",e[e.INVALID_PASSWORD=4]="INVALID_PASSWORD",e[e.TOO_MANY_REQUESTS=5]="TOO_MANY_REQUESTS",e[e.PIN_LOCKED=6]="PIN_LOCKED",e[e.FEATURE_DISABLED=7]="FEATURE_DISABLED",e[e.NOT_ALLOWED=8]="NOT_ALLOWED",e[e.INVALID_CONFIGURATION=9]="INVALID_CONFIGURATION",e[e.INVALID_CODE=10]="INVALID_CODE",e[e.CONFIGURATION_ALREADY_ENABLED=11]="CONFIGURATION_ALREADY_ENABLED",e[e.INVALID_SETUP_TOKEN=12]="INVALID_SETUP_TOKEN",e[e.REAUTHENTICATION_REQUIRED=13]="REAUTHENTICATION_REQUIRED",e[e.INVALID_PHONE_NUMBER=15]="INVALID_PHONE_NUMBER",e[e.EXCEEDED_REGISTERED_KEYS_LIMIT=16]="EXCEEDED_REGISTERED_KEYS_LIMIT",e[e.INVALID_CREDENTIAL_NICKNAME=17]="INVALID_CREDENTIAL_NICKNAME",e[e.AUTHENTICATOR_CODE_ALREADY_USED=18]="AUTHENTICATOR_CODE_ALREADY_USED",e[e.CHALLENGE_DENIED=19]="CHALLENGE_DENIED",e[e.CROSS_DEVICE_DIALOG_EXPIRED=20]="CROSS_DEVICE_DIALOG_EXPIRED"}(Cn||(Cn={}));var xn,Vn,Hn={url:Ln+"/v1/metadata",withCredentials:!0,timeout:Fn},Wn={withCredentials:!0,url:Mn+"/v2/spend-friction/two-step-verification/status",timeout:Fn},Bn={withCredentials:!0,url:kn+"/v1/trade-friction/two-step-verification/status",timeout:Fn},Yn={withCredentials:!0,url:Mn+"/v2/resale-friction/two-step-verification/status",timeout:Fn},Gn={withCredentials:!0,url:Mn+"/v2/spend-friction/two-step-verification/generate",timeout:Fn},Kn={withCredentials:!0,url:kn+"/v1/trade-friction/two-step-verification/generate",timeout:Fn},Qn={withCredentials:!0,url:Mn+"/v2/resale-friction/two-step-verification/generate",timeout:Fn},Xn={withCredentials:!0,url:Mn+"/v2/spend-friction/two-step-verification/redeem",timeout:Fn},qn={withCredentials:!0,url:kn+"/v1/trade-friction/two-step-verification/redeem",timeout:Fn},jn={withCredentials:!0,url:Mn+"/v2/resale-friction/two-step-verification/redeem",timeout:Fn},zn=function(e){return W(D.httpService.get(Hn,e||{}),Cn)},Jn=function(e,t){return W(D.httpService.get(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration",timeout:Fn}}(e),t||{}),Cn)},Zn=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/email/enable",timeout:Fn}}(e),{}),Cn)},$n=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/email/send-code",timeout:Fn}}(e),t),Cn)},er=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/email/verify",timeout:Fn}}(e),t),Cn)},tr=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/email/disable",timeout:Fn}}(e),{}),Cn)},nr=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/authenticator/enable",timeout:Fn}}(e),{}),Cn)},rr=function(e,t,n){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/authenticator/enable-verify",timeout:Fn}}(e),{setupToken:t,code:n}),Cn)},or=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/authenticator/verify",timeout:Fn}}(e),t),Cn)},ir=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/authenticator/disable",timeout:Fn}}(e),{}),Cn)},ar=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/recovery-codes/verify",timeout:Fn}}(e),t),Cn)},ur=function(e){return W(D.httpService.get(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/recovery-codes",timeout:Fn}}(e)),Cn)},sr=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/recovery-codes/regenerate",timeout:Fn}}(e),{password:"password"}),Cn)},cr=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/sms/enable",timeout:Fn}}(e),{}),Cn)},lr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/sms/send-code",timeout:Fn}}(e),t),Cn)},dr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/sms/verify",timeout:Fn}}(e),t),Cn)},pr=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/sms/disable",timeout:Fn}}(e),{}),Cn)},fr=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/security-key/enable",timeout:Fn}}(e),{}),Cn,(function(e){return{creationOptions:JSON.parse(e.creationOptions),sessionId:e.sessionId}}))},Er=function(e,t,n,r){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/security-key/enable-verify",timeout:Fn}}(e),{sessionId:t,credentialNickname:n,attestationResponse:r}),Cn)},mr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/security-key/verify-start",timeout:Fn}}(e),t),Cn)},hr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/security-key/verify-finish",timeout:Fn}}(e),t),Cn)},Sr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/security-key/disable",timeout:Fn}}(e),{credentialNicknames:t}),Cn)},vr=function(e){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/security-key/list",timeout:Fn}}(e),{}),Cn)},Ar=function(){return W(D.httpService.get(Wn,{}),Cn)},_r=function(){return W(D.httpService.get(Bn,{}),Cn)},Nr=function(){return W(D.httpService.get(Yn,{}),Cn)},Tr=function(){return W(D.httpService.post(Gn,{}),Cn)},Or=function(){return W(D.httpService.post(Kn,{}),Cn)},br=function(){return W(D.httpService.post(Qn,{}),Cn)},yr=function(e,t){return W(D.httpService.post(Xn,{challengeToken:e,verificationToken:t}),Cn)},Cr=function(e,t){return W(D.httpService.post(qn,{challengeToken:e,verificationToken:t}),Cn)},Pr=function(e,t){return W(D.httpService.post(jn,{challengeToken:e,verificationToken:t}),Cn)},wr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/cross-device/retry",timeout:Fn}}(e),t),Cn)},Rr=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/cross-device/verify",timeout:Fn}}(e),t),Cn)},Ur=function(e,t){return W(D.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/cross-device/retract",timeout:Fn}}(e),t),Cn)},Ir=null!==(xn=P.EnvironmentUrls.universalAppConfigurationApi)&&void 0!==xn?xn:"URL_NOT_FOUND";!function(e){e[e.INTERNAL_ERROR=9]="INTERNAL_ERROR"}(Vn||(Vn={}));var Dr,gr,Lr={withCredentials:!0,url:Ir+"/v1/behaviors/account-settings-ui/content",timeout:1e4},Mr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},kr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Fr=function(){return Mr(void 0,void 0,Promise,(function(){return kr(this,(function(e){return[2,W(D.httpService.get(Lr,{}),Vn)]}))}))},xr=null!==(Dr=P.EnvironmentUrls.authApi)&&void 0!==Dr?Dr:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(gr||(gr={}));var Vr,Hr,Wr,Br={withCredentials:!0,url:xr+"/v1/xbox/connection",timeout:1e4},Yr={withCredentials:!0,url:xr+"/v1/xbox/disconnect",timeout:1e4},Gr=function(){return W(D.httpService.get(Br,{}),gr)},Kr=function(){return W(D.httpService.post(Yr,{}),gr)},Qr=(null!==(Vr=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Vr?Vr:"URL_NOT_FOUND")+"/account-security-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.INVAID_METRIC_NAME=3]="INVAID_METRIC_NAME",e[e.INVALID_METRIC_LABELS=4]="INVALID_METRIC_LABELS"}(Hr||(Hr={})),function(e){e.Event2sv="event_2sv",e.SolveTime2sv="solve_time_2sv",e.EventCaptcha="event_captcha",e.SolveTimeCaptcha="solve_time_captcha",e.EventPat="event_pat",e.SolveTimePat="solve_time_pat",e.EventPow="event_pow",e.PuzzleComputeTimePow="puzzle_compute_time_pow",e.SolveTimePow="solve_time_pow",e.EventRostile="event_rostile",e.SolveTimeRostile="solve_time_rostile",e.EventSecurityQuestion="event_security_question",e.EventGeneric="event_generic",e.EventReauthentication="event_reauthentication",e.SolveTimeReauthentication="solve_time_reauthentication",e.EventDeviceIntegrity="event_device_integrity",e.SolveTimeDeviceIntegrity="solve_time_device_integrity"}(Wr||(Wr={}));var Xr,qr,jr={withCredentials:!0,url:Qr+"/v1/metrics/record",timeout:1e4},zr=function(e){return W(D.httpService.post(jr,e),Hr)},Jr=(null!==(Xr=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Xr?Xr:"URL_NOT_FOUND")+"/private-access-token";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(qr||(qr={}));var Zr,$r,eo={withCredentials:!0,url:Jr+"/v1/getPATToken",timeout:1e4},to=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},no=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ro=function(e){return to(void 0,void 0,Promise,(function(){return no(this,(function(t){return[2,W(D.httpService.post(eo,{challengeId:e}),qr)]}))}))},oo=(null!==(Zr=P.EnvironmentUrls.apiGatewayUrl)&&void 0!==Zr?Zr:"URL_NOT_FOUND")+"/challenge";!function(e){e[e.UNKNOWN=1]="UNKNOWN"}($r||($r={}));var io,ao,uo={withCredentials:!0,url:oo+"/v1/continue",timeout:1e4},so=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},co=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},lo=function(e,t,n){return so(void 0,void 0,Promise,(function(){return co(this,(function(r){return[2,W(D.httpService.post(uo,{challengeId:e,challengeType:t,challengeMetadata:n}),$r)]}))}))},po=null!==(io=P.EnvironmentUrls.authApi)&&void 0!==io?io:"URL_NOT_FOUND",fo=1e4;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.EXCEEDED_REGISTERED_KEYS_LIMIT=1]="EXCEEDED_REGISTERED_KEYS_LIMIT",e[e.FEATURE_DISABLED=2]="FEATURE_DISABLED",e[e.INVALID_CREDENTIAL_NICKNAME=3]="INVALID_CREDENTIAL_NICKNAME"}(ao||(ao={}));var Eo,mo={withCredentials:!0,url:po+"/v1/passkey/StartRegistration",timeout:fo},ho={withCredentials:!0,url:po+"/v1/passkey/FinishRegistration",timeout:fo},So={withCredentials:!0,url:po+"/v1/passkey/DeleteCredentialBatch",timeout:fo},vo={withCredentials:!0,url:po+"/v1/passkey/ListCredentials",timeout:fo},Ao=function(){return W(D.httpService.post(mo,{}),ao,(function(e){return{creationOptions:JSON.parse(e.creationOptions),sessionId:e.sessionId}}))},_o=function(e,t,n){return W(D.httpService.post(ho,{sessionId:e,credentialNickname:t,attestationResponse:n}),ao)},No=function(e){return W(D.httpService.post(So,{credentialNicknames:e}),ao)},To=function(){return W(D.httpService.post(vo,{all:!0}),ao)},Oo=function(){this.accountPin=t,this.captcha=n,this.email=r,this.games=o,this.metrics=N,this.myAccount=i,this.otp=a,this.password=u,this.phone=s,this.playstation=c,this.promptAssignments=l,this.securityQuestions=E,this.sessionManagement=m,this.reauthentication=p,this.rostile=f,this.thumbnails=h,this.translations=S,this.twoStepVerification=v,this.universalAppConfiguration=A,this.proofOfWork=d,this.xbox=_,this.privateAccessToken=T,this.genericChallenge=O,this.authApi=b},bo=ReactUtilities,yo="Account Security Prompt:",Co="authpopup",Po="/my/account#!/security?src=",wo="https://en.help.roblox.com/hc/articles/212459863-Add-2-Step-Verification-to-Your-Account",Ro="accountSecurityPromptEvent",Uo={modalStateViewed:"modalStateViewed"},Io={common:[],feature:"Feature.AccountSecurityPrompt"},Do=ReactStyleGuide,go=function(e,t){switch(t){case Le.VALID_PASSWORD:return null;case Le.WEAK_PASSWORD:return e.Message.Error.PasswordValidation.WeakPassword;case Le.SHORT_PASSWORD:return e.Message.Error.PasswordValidation.ShortPassword;case Le.PASSWORD_SAME_AS_USERNAME:return e.Message.Error.PasswordValidation.PasswordSameAsUsername;case Le.FORBIDDEN_PASSWORD:return e.Message.Error.PasswordValidation.ForbiddenPassword;case Le.DUMB_STRINGS:return e.Message.Error.PasswordValidation.DumbStrings;default:return e.Message.Error.PasswordValidation.Default}},Lo=function(e,t){switch(t){case C.NO_ACCOUNT_PIN:return e.Message.Error.Pin.NoAccountPin;case C.ACCOUNT_LOCKED:return e.Message.Error.Pin.AccountLocked;case C.FLOODED:return e.Message.Error.Pin.Flooded;case C.INCORRECT_PIN:return e.Message.Error.Pin.IncorrectPin;default:return e.Message.Error.Pin.Default}};!function(e){e.NONE="NONE",e.CHANGE_PASSWORD_INTRO="CHANGE_PASSWORD_INTRO",e.CHANGE_PASSWORD_FORM="CHANGE_PASSWORD_FORM",e.CHANGE_PASSWORD_CONFIRMATION="CHANGE_PASSWORD_CONFIRMATION",e.CHANGE_PASSWORD_DISMISS_CONFIRMATION="CHANGE_PASSWORD_DISMISS_CONFIRMATION",e.ACCOUNT_PIN_FORM="ACCOUNT_PIN_FORM",e.ACCOUNT_PIN_FORM_EXPIRED="ACCOUNT_PIN_FORM_EXPIRED",e.AUTHENTICATOR_UPSELL_OPENING="AUTHENTICATOR_UPSELL_OPENING",e.AUTHENTICATOR_UPSELL_DOWNLOAD_APPS="AUTHENTICATOR_UPSELL_DOWNLOAD_APPS",e.ACCOUNT_RESTORE_POLICY_UPSELL="ACCOUNT_RESTORE_POLICY_UPSELL",e.EMAIL_2SV_UPSELL="EMAIL_2SV_UPSELL"}(Eo||(Eo={}));var Mo,ko=Eo;!function(e){e[e.DISMISS_TEMPORARY=0]="DISMISS_TEMPORARY",e[e.DISMISS_FOREVER=1]="DISMISS_FOREVER",e[e.SET_FLOW_COMPLETE=2]="SET_FLOW_COMPLETE",e[e.SET_MODAL_STATE=3]="SET_MODAL_STATE",e[e.SET_EMAIL_ADDRESS=4]="SET_EMAIL_ADDRESS",e[e.SET_ACCOUNT_PIN_UNLOCKED_UNTIL=5]="SET_ACCOUNT_PIN_UNLOCKED_UNTIL"}(Mo||(Mo={}));var Fo,xo=function(){return(xo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Vo=function(e,t){var n=xo({},e);switch(t.type){case Mo.DISMISS_TEMPORARY:case Mo.DISMISS_FOREVER:return n.isFlowComplete=!0,n;case Mo.SET_MODAL_STATE:return n.lastModalState=e.modalState,n.modalState=t.modalState,n.modalState===ko.ACCOUNT_PIN_FORM_EXPIRED?n.accountPinUnlockedUntil=null:n.modalState===ko.CHANGE_PASSWORD_CONFIRMATION&&(n.isFlowComplete=!0),n;case Mo.SET_EMAIL_ADDRESS:return n.emailAddress=t.emailAddress,n;case Mo.SET_ACCOUNT_PIN_UNLOCKED_UNTIL:return n.accountPinUnlockedUntil=t.accountPinUnlockedUntil,n;default:return e}},Ho=(0,R.createContext)(null),Wo=function(e){var t=e.promptAssignment,n=e.username,r=e.isUserUnder13,o=e.eventService,i=e.requestService,a=e.translate,u=e.children,s=ko.NONE,c=t.promptType===nt.BROADER_AUTHENTICATOR_UPSELL&&!0!==t.isGeneric&&!t.metadata.showBanner,l=t.promptType===nt.EMAIL_2SV_UPSELL&&!0!==t.isGeneric&&!t.metadata.showBanner;t.promptType===nt.AUTHENTICATOR_UPSELL||c?s=ko.AUTHENTICATOR_UPSELL_OPENING:t.promptType===nt.ACCOUNT_RESTORES_POLICY_UPSELL?s=ko.ACCOUNT_RESTORE_POLICY_UPSELL:t.promptType===nt.EMAIL_2SV_UPSELL&&l&&(s=ko.EMAIL_2SV_UPSELL);var d=(0,R.useState)((function(){return function(e,t){return{Action:{AbortDismissForeverAddEmail:e("Action.AbortDismissForeverAddEmail"),AbortDismissForeverChangePassword:e("Action.AbortDismissForeverChangePassword"),AccountRestoreOpenSettings:e("Action.OpenSettings"),AuthenticatorUpsellSetupAuthenticatorButtonMessage:e("Label.AuthenticatorUpsellSetupAuthenticatorButtonMessage"),AuthenticatorUpsellNextButtonMessage:e("Action.AuthenticatorUpsellNextButtonMessage"),ChangeEmail:e("Action.ChangeEmail"),ConfirmDismissForeverAddEmail:e("Action.ConfirmDismissForeverAddEmail"),ConfirmDismissForeverChangePassword:e("Action.ConfirmDismissForeverChangePassword"),ContinueAddEmail:e("Action.ContinueAddEmail"),ContinueChangePassword:e("Action.ContinueChangePassword"),DismissForever:e("Action.DismissForever"),RemindMeLater:e("Action.RemindMeLater"),ResendPasswordResetEmail:e("Action.ResendPasswordResetEmail"),SecureAccount:e("Action.SecureAccount"),SetUpAuthenticatorInBanner:e("Action.SetUpAuthenticatorInBanner"),SetUpAuthenticatorAccountRestoresPolicyUpsell:e("Action.SetUpAuthenticatorAccountRestoresPolicyUpsell"),SetUpEmail2SV:e("Action.SetUpEmail2SV"),SubmitChangePassword:e("Action.SubmitChangePassword"),UnlockAccountPin:e("Action.UnlockAccountPin")},Message:{Error:{Email:{FeatureDisabled:e("Message.Error.Email.FeatureDisabled"),TooManyAccountsOnEmail:e("Message.Error.Email.TooManyAccountsOnEmail"),TooManyAttemptsToUpdateEmail:e("Message.Error.Email.TooManyAttemptsToUpdateEmail"),InvalidEmailAddress:e("Message.Error.Email.InvalidEmailAddress"),Default:e("Message.Error.Email.Default")},Input:{InvalidEmail:e("Message.Error.Input.InvalidEmail"),PasswordsDoNotMatch:e("Message.Error.Input.PasswordsDoNotMatch")},Passwords:{Flooded:e("Message.Error.Password.Flooded"),InvalidPassword:e("Message.Error.Password.InvalidPassword"),InvalidCurrentPassword:e("Message.Error.Password.InvalidCurrentPassword"),PinLocked:e("Message.Error.Password.PinLocked"),Default:e("Message.Error.Password.Default")},PasswordReset:{UserDoesNotHaveEmail:e("Message.Error.PasswordReset.UserDoesNotHaveEmail"),Default:e("Message.Error.PasswordReset.Default")},PasswordValidation:{WeakPassword:e("Message.Error.PasswordValidation.WeakPassword"),ShortPassword:e("Message.Error.PasswordValidation.ShortPassword"),PasswordSameAsUsername:e("Message.Error.PasswordValidation.PasswordSameAsUsername"),ForbiddenPassword:e("Message.Error.PasswordValidation.ForbiddenPassword"),DumbStrings:e("Message.Error.PasswordValidation.DumbStrings"),Default:e("Message.Error.PasswordValidation.Default")},Pin:{NoAccountPin:e("Message.Error.Pin.NoAccountPin"),AccountLocked:e("Message.Error.Pin.AccountLocked"),Flooded:e("Message.Error.Pin.Flooded"),IncorrectPin:e("Message.Error.Pin.IncorrectPin"),Default:e("Message.Error.Pin.Default")},PromptAssignments:{Default:e("Message.Error.PromptAssignments.Default")}}},Description:{AccountRestoresPolicyUpdateV3:function(t){return e("Description.AccountRestoresPolicyUpdateV3",{linkStart:'<a href="'+t+'" class="text-link" target="_blank">',linkEnd:"</a>"})},AccountRestoresPolicyUpsellMessageBody:function(t){return e("Description.AccountRestoresPolicyUpsellMessageBody",{linkStartSettings:'<a href="'+t+'" class="text-link" target="_blank">',linkEndSettings:"</a>"})},AccountRestoresPolicyWithDate:function(t){return e("Description.AccountRestoresPolicyWithDate",{date:t})},AddYourEmail:e(t?"Description.AddYourEmailUnder13":"Description.AddYourEmail"),AreYouSureDismissForeverAddEmail:e(t?"Description.AreYouSureDismissForeverAddEmailUnder13":"Description.AreYouSureDismissForeverAddEmail"),AreYouSureDismissForeverChangePassword:e("Description.AreYouSureDismissForeverChangePassword"),AuthenticatorSetupPrompt:function(t){return e("Description.AuthenticatorSetupPrompt",{linkStart:'<a href="'+t+'" class="text-link" target="_blank">',linkEnd:"</a>"})},AuthenticatorSetupPromptNew:function(t){return e("Description.AuthenticatorSetupPromptNew",{linkStart:'<a href="'+t+'" class="text-link" target="_blank">',linkEnd:"</a>"})},ChangeYourPassword:e("Description.ChangeYourPassword"),ChangeYourPasswordImmediately:e("Description.ChangeYourPasswordImmediately"),ChangeYourPasswordSuccess:e("Description.ChangeYourPasswordSuccess"),CheckYourEmail:function(n){return e(t?"Description.CheckYourEmailUnder13":"Description.CheckYourEmail",{emailAddress:"<b>"+n+"</b>"})},Email2SVUpsellMessageBody:function(t){return e("Description.Email2SVUpsellMessageBody",{linkStart:'<a href="'+t+'" class="text-link" target="_blank">',linkEnd:"</a>"})},EnterYourAccountPin:e("Description.EnterYourAccountPin"),GenericTextOnlyBanner:function(t){return e(t)},LearnMoreHere:function(t){return e("Description.LearnMoreHere",{linkStart:'<a href="'+t+'" class="text-link" target="_blank">',linkEnd:"</a>"})},NoChangeForceReset:function(t){return e(t<=1?"Description.NoChangeForceResetSingular":"Description.NoChangeForceReset",{days:t,boldStart:"<b>",boldEnd:"</b>"}).replace("1",t<1?"< 1":"1")},ReceiveSecurityCodesMessage:e("Description.ReceiveSecurityCodesMessage"),UnusualActivity:e("Description.UnusualActivity")},Header:{AccountPinExpired:e("Header.AccountPinExpired"),AccountPinRequired:e("Header.AccountPinRequired"),AccountRestoresPolicyUpdate:e("Header.AccountRestoresPolicyUpdate"),AccountRestoresPolicyUpdateV3:e("Header.AccountRestoresPolicyUpdateV3"),AccountRestoresPolicyUpsell:e("Header.AccountRestoresPolicyUpsell"),AddYourEmail:e(t?"Header.AddYourEmailUnder13":"Header.AddYourEmail"),AreYouSure:e("Header.AreYouSure"),AuthenticatorUpsellDownloadAuthenticator:e("Header.AuthenticatorUpsellDownloadAuthenticator"),AuthenticatorUpsellWelcomeMessage:e("Header.AuthenticatorUpsellWelcomeMessage"),BoostYourAccountSecurity:e("Header.BoostYourAccountSecurity"),ChangeYourPassword:e("Header.ChangeYourPassword"),CheckYourEmail:e(t?"Header.CheckYourEmailUnder13":"Header.CheckYourEmail"),CreateAStrongPassword:e("Header.CreateAStrongPassword"),GenericTextOnlyBanner:function(t){return e(t)},Email2SVUpsell:e("Header.Email2SVUpsell"),KeepYourAccountSafeLong:e("Header.KeepYourAccountSafeLong"),Success:e("Header.Success"),UnusualActivityDetected:e("Header.UnusualActivityDetected"),YourPasswordMightBeStolen:e("Header.YourPasswordMightBeStolen")},Label:{AccountPin:e("Label.AccountPin"),AtLeastCharacters:function(t){return e("Label.AtLeastCharacters",{count:t})},AuthenticatorUpsellBadActorHeadline:e("Label.AuthenticatorUpsellBadActorHeadline"),AuthenticatorUpsellBadActorMessage:e("Label.AuthenticatorUpsellBadActorMessage"),AuthenticatorUpsellDownloadInstruction:e("Label.AuthenticatorUpsellDownloadInstruction"),AuthenticatorUpsellGoogleOption:e("Label.AuthenticatorUpsellGoogleOption"),AuthenticatorUpsellMicrosoftOption:e("Label.AuthenticatorUpsellMicrosoftOption"),AuthenticatorUpsellProtectRobuxHeadline:e("Label.AuthenticatorUpsellProtectRobuxHeadline"),AuthenticatorUpsellProtectRobuxMessage:e("Label.AuthenticatorUpsellProtectRobuxMessage"),AuthenticatorUpsellTwilioOption:e("Label.AuthenticatorUpsellTwilioOption"),AuthenticatorUpsellTwoFactorHeadline:e("Label.AuthenticatorUpsellTwoFactorHeadline"),AuthenticatorUpsellTwoFactorMessage:e("Label.AuthenticatorUpsellTwoFactorMessage"),ConfirmNewPassword:e("Label.ConfirmNewPassword"),CurrentPassword:e("Label.CurrentPassword"),IForgotMyPassword:e("Label.IForgotMyPassword"),MinutesSeconds:function(t,n){return e("Label.MinutesSeconds",{minutes:t,seconds:n})},NewPassword:e("Label.NewPassword"),TimeRemaining:e("Label.TimeRemaining"),UseAUniquePassword:e("Label.UseAUniquePassword"),YourEmail:e(t?"Label.YourEmailUnder13":"Label.YourEmail")}}}(a,r)}))[0],p=(0,R.useState)((function(){return{promptAssignment:t,username:n,resources:d,requestService:i,isFlowComplete:!1,modalState:s,lastModalState:null,emailAddress:"",accountPinUnlockedUntil:null}}))[0],f=(0,R.useReducer)(Vo,p),E=f[0],m=f[1];return(0,R.useEffect)((function(){return function(e,t,n){t!==n&&e.sendModalStateViewedEvent(t)}(o,E.modalState,E.lastModalState)}),[o,E.modalState,E.lastModalState]),U().createElement(Ho.Provider,{value:{state:E,dispatch:m}},u)},Bo=function(){var e=(0,R.useContext)(Ho);if(null===e)throw new Error("AccountSecurityPromptContext was not provided in the current scope");return e},Yo=function(e){var t=parseInt(e,10);if(Number.isNaN(t)||!Number.isSafeInteger(t))return 14;var n=Math.max(0,t-Date.now());return Math.floor(n/864e5)},Go=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Ko=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Qo=function(){var e=Bo(),t=e.state,n=t.promptAssignment,r=t.resources,o=t.requestService,i=e.dispatch,a=(0,R.useState)(!1),u=a[0],s=a[1],c=function(){return Go(void 0,void 0,Promise,(function(){var e;return Ko(this,(function(t){switch(t.label){case 0:return s(!0),[4,o.promptAssignments.updateForCurrentUser(st.DISABLE_PROMPT,n.promptType)];case 1:return(e=t.sent()).isError&&(s(!1),console.warn(yo,"Disabling prompt failed with error",e.error&&$e[e.error])),i({type:Mo.DISMISS_FOREVER}),[2]}}))}))},l=function(){return Go(void 0,void 0,Promise,(function(){var e;return Ko(this,(function(t){switch(t.label){case 0:return s(!0),[4,o.promptAssignments.updateForCurrentUser(st.DISMISS_PROMPT,n.promptType)];case 1:return(e=t.sent()).isError&&(s(!1),console.warn(yo,"Dismissing prompt failed with error",e.error&&$e[e.error])),i({type:Mo.DISMISS_TEMPORARY}),[2]}}))}))},d=[nt.BROADER_AUTHENTICATOR_UPSELL.toString(),nt.ACCOUNT_RESTORES_POLICY_UPDATE_V3.toString(),nt.EMAIL_2SV_UPSELL.toString()].includes(n.promptType.toString()),p=!d,f=nt.ACCOUNT_RESTORES_POLICY_UPDATE_V3!==n.promptType,E=nt.CHANGE_PASSWORD__SUSPECTED_COMPROMISE===n.promptType,m=[nt.CHANGE_PASSWORD__SUSPECTED_COMPROMISE.toString(),nt.ACCOUNT_RESTORES_POLICY_UPDATE.toString(),nt.ACCOUNT_RESTORES_POLICY_UPDATE_V2.toString(),nt.ACCOUNT_RESTORES_POLICY_UPDATE_V3.toString(),nt.BROADER_AUTHENTICATOR_UPSELL.toString(),nt.EMAIL_2SV_UPSELL.toString()].includes(n.promptType.toString());n.isGeneric&&(p=n.metadata.showAlertIcon,f=!1,E=!1,m=n.metadata.showXButtonForDisable);var h,S,v=r.Action.SubmitChangePassword;if(n.promptType===nt.ACCOUNT_RESTORES_POLICY_UPDATE||n.promptType===nt.ACCOUNT_RESTORES_POLICY_UPDATE_V2?v=r.Action.AccountRestoreOpenSettings:n.promptType===nt.BROADER_AUTHENTICATOR_UPSELL?v=r.Action.SetUpAuthenticatorInBanner:n.promptType===nt.EMAIL_2SV_UPSELL&&(v=r.Action.SetUpEmail2SV),n.isGeneric)switch(n.metadata.displayType){case et.TEXT_ONLY_BANNER:h=r.Description.GenericTextOnlyBanner(n.metadata.headerResource);break;default:h=""}else switch(n.promptType){case nt.CHANGE_PASSWORD__SUSPECTED_COMPROMISE:h=r.Header.UnusualActivityDetected;break;case nt.CHANGE_PASSWORD__BREACHED_CREDENTIAL:h=r.Header.YourPasswordMightBeStolen;break;case nt.ACCOUNT_RESTORES_POLICY_UPDATE:h=r.Header.AccountRestoresPolicyUpdate;break;case nt.ACCOUNT_RESTORES_POLICY_UPDATE_V2:h=r.Header.KeepYourAccountSafeLong;break;case nt.ACCOUNT_RESTORES_POLICY_UPDATE_V3:h=r.Header.AccountRestoresPolicyUpdateV3;break;case nt.BROADER_AUTHENTICATOR_UPSELL:h=r.Header.BoostYourAccountSecurity;break;case nt.EMAIL_2SV_UPSELL:h=r.Header.Email2SVUpsell;break;default:h=""}if(n.isGeneric)switch(n.metadata.displayType){case et.TEXT_ONLY_BANNER:S=r.Header.GenericTextOnlyBanner(n.metadata.bodyResource);break;default:S=""}else switch(n.promptType){case nt.ACCOUNT_RESTORES_POLICY_UPDATE:var A=new Date(n.metadata.accountRestoresPolicyEffectiveTimestamp).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});S=r.Description.AccountRestoresPolicyWithDate(A)+" "+r.Description.AuthenticatorSetupPrompt(wo);break;case nt.ACCOUNT_RESTORES_POLICY_UPDATE_V2:S=r.Description.AuthenticatorSetupPromptNew(wo);break;case nt.ACCOUNT_RESTORES_POLICY_UPDATE_V3:S=r.Description.AccountRestoresPolicyUpdateV3(Po);break;case nt.CHANGE_PASSWORD__SUSPECTED_COMPROMISE:S=r.Description.UnusualActivity+" "+r.Description.ChangeYourPassword;break;case nt.CHANGE_PASSWORD__BREACHED_CREDENTIAL:S=r.Description.ChangeYourPasswordImmediately+" "+r.Description.NoChangeForceReset(Yo(n.metadata.forceResetTimestamp))+" "+r.Description.LearnMoreHere("https://en.help.roblox.com/hc/articles/4416940180500-Why-am-I-seeing-a-banner-asking-me-to-change-my-password-");break;case nt.BROADER_AUTHENTICATOR_UPSELL:S=r.Description.ReceiveSecurityCodesMessage;break;case nt.EMAIL_2SV_UPSELL:S=r.Description.Email2SVUpsellMessageBody(Po);break;default:S=""}return U().createElement("div",{className:"security-banner-wrapper"},U().createElement("div",{className:"security-banner"},U().createElement("div",{className:"banner-start"},p&&U().createElement("div",{className:"banner-icon"},U().createElement("div",{className:"icon-warning"})),d&&U().createElement("div",{className:"banner-icon-lock"}),U().createElement("div",{className:"banner-content"},U().createElement("h2",{className:"banner-header"},h),U().createElement("div",{className:"banner-description",dangerouslySetInnerHTML:{__html:S}})),m&&U().createElement("button",{type:"button",className:"close banner-close","aria-label":r.Action.RemindMeLater,onClick:l},U().createElement("span",{className:"icon-close"}))),U().createElement("div",{className:"banner-buttons"},E&&U().createElement("span",{className:"banner-button"},U().createElement("button",{type:"button",className:"btn-secondary-md","aria-label":r.Action.DismissForever,onClick:function(){i({type:Mo.SET_MODAL_STATE,modalState:ko.CHANGE_PASSWORD_DISMISS_CONFIRMATION})},disabled:u},r.Action.DismissForever)),f&&U().createElement("span",{className:"banner-button banner-button-last"},U().createElement("button",{type:"button",className:"btn-cta-md","aria-label":v,onClick:function(){return Go(void 0,void 0,void 0,(function(){return Ko(this,(function(e){switch(e.label){case 0:return n.promptType!==nt.ACCOUNT_RESTORES_POLICY_UPDATE&&n.promptType!==nt.ACCOUNT_RESTORES_POLICY_UPDATE_V2?[3,2]:[4,c()];case 1:return e.sent(),window.open("/my/account#!/security?src=authpopup","_self"),[3,3];case 2:n.promptType===nt.BROADER_AUTHENTICATOR_UPSELL?i({type:Mo.SET_MODAL_STATE,modalState:ko.AUTHENTICATOR_UPSELL_OPENING}):n.promptType===nt.EMAIL_2SV_UPSELL?window.open("/my/account#!/security?src=emailhighlight","_self"):i({type:Mo.SET_MODAL_STATE,modalState:ko.CHANGE_PASSWORD_INTRO}),e.label=3;case 3:return[2]}}))}))},disabled:u},v)),m&&U().createElement(R.Fragment,null,u?U().createElement("span",{className:"banner-close icon-close spinner-circle"}):U().createElement("button",{type:"button",className:"close banner-close","aria-label":r.Action.RemindMeLater,onClick:function(){return Go(void 0,void 0,Promise,(function(){return Ko(this,(function(e){switch(e.label){case 0:return n.promptType===nt.ACCOUNT_RESTORES_POLICY_UPDATE||n.promptType===nt.ACCOUNT_RESTORES_POLICY_UPDATE_V2||n.promptType===nt.ACCOUNT_RESTORES_POLICY_UPDATE_V3||n.isGeneric&&n.metadata.displayType===et.TEXT_ONLY_BANNER?[4,c()]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,l()];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}},U().createElement("span",{className:"icon-close"}))))))},Xo=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},qo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},jo=function(e,t){return function(n){return Xo(void 0,void 0,Promise,(function(){return qo(this,(function(r){switch(r.label){case 0:return"Enter"===n.key&&t?(n.preventDefault(),n.stopPropagation(),[4,e()]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}},zo=function(){return Promise.resolve(null)},Jo=function(e,t,n,r){return function(o){return Xo(void 0,void 0,void 0,(function(){var i;return qo(this,(function(a){switch(a.label){case 0:return[4,e.password.validate(n,o)];case 1:return(i=a.sent()).isError?[2,r]:[2,go(t,i.value)]}}))}))}},Zo=function(e,t){return function(n){return Xo(void 0,void 0,void 0,(function(){return qo(this,(function(r){return n===t?[2,Promise.resolve(null)]:[2,Promise.resolve(e)]}))}))}},$o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Xo(void 0,void 0,void 0,(function(){var n,r;return qo(this,(function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<e.length?[4,e[n](t)]:[3,4];case 2:if(null!==(r=o.sent()))return[2,r];o.label=3;case 3:return n+=1,[3,1];case 4:return[2,null]}}))}))}},ei=function(e,t,n,r,o,i){return function(a){return Xo(void 0,void 0,Promise,(function(){var u,s;return qo(this,(function(c){switch(c.label){case 0:return u=a.currentTarget.value,void 0===t||t.test(u)||(u=e),void 0!==i&&i(u),r(u),s=o,[4,n(u)];case 1:return s.apply(void 0,[c.sent()]),[2]}}))}))}},ti=function(e){var t=e.id,n=e.inputType,r=e.placeholder,o=e.disabled,i=e.value,a=e.error,u=e.canSubmit,s=e.validate,c=e.setValue,l=e.setError,d=e.handleSubmit,p=e.onChange,f=e.label,E=e.bottomLabel,m=e.inputMode,h=e.autoComplete,S=e.maxLength,v=e.validCharactersRegEx,A=e.hideFeedback,_=e.concealInput,N=""!==i&&null===a,T=""!==i&&null!==a,O=N||T;return U().createElement("div",{className:"input-control-wrapper"},f&&U().createElement("label",{className:"text-label xsmall",htmlFor:t},f),U().createElement(Do.FormGroup,{controlId:t,className:(O?"form-has-feedback":"")+" "+(N?"form-has-success":"")+" "+(T?"form-has-error":"")},U().createElement(Do.FormControl,{as:"input",className:"input-field"+(_&&i.length>0?" input-field-concealed":""),type:n,inputMode:m,autoComplete:h,maxLength:S,disabled:o,value:i,placeholder:r,onChange:ei(i,v,s,c,l,p),onKeyDown:jo(d,u)}),!o&&!A&&N&&U().createElement("span",{className:"icon-checkmark-on"}),!o&&!A&&T&&U().createElement("span",{className:"icon-close"}),U().createElement("div",{className:"form-control-label bottom-label xsmall"},!o&&T?a:E||"")))},ni=function(e){var t=e.positiveButton,n=e.negativeButton,r=e.children;return U().createElement(Do.Modal.Footer,null,U().createElement("div",{className:"modal-modern-footer-buttons"},null!==n&&U().createElement("button",{type:"button",className:"btn-secondary-md modal-modern-footer-button","aria-label":n.label,disabled:!n.enabled,onClick:n.action},n.content),U().createElement("button",{type:"button",className:"btn-cta-md modal-modern-footer-button","aria-label":t.label,disabled:!t.enabled,onClick:t.action},t.content)),r)};!function(e){e.BACK="BACK",e.CLOSE="CLOSE",e.HIDDEN="HIDDEN"}(Fo||(Fo={}));var ri=function(e){var t=e.headerText,n=e.buttonType,r=e.buttonAction,o=e.buttonEnabled,i=e.headerInfo;return U().createElement(Do.Modal.Header,{useBaseBootstrapComponent:!0},function(e,t,n){switch(e){case Fo.BACK:return U().createElement("button",{type:"button",className:"modal-modern-header-button",onClick:t,disabled:!n},U().createElement("span",{className:"icon-back"}));case Fo.CLOSE:return U().createElement("button",{type:"button",className:"modal-modern-header-button",onClick:t,disabled:!n},U().createElement("span",{className:"icon-close"}));case Fo.HIDDEN:default:return U().createElement("div",null)}}(n,r,o),U().createElement(Do.Modal.Title,null,t),U().createElement("div",{className:"modal-modern-header-info"},i))},oi=function(e){return function(){return e({type:Mo.SET_MODAL_STATE,modalState:ko.CHANGE_PASSWORD_INTRO})}},ii=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},ai=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ui=function(){var e=Bo(),t=e.state,n=t.resources,r=t.requestService,o=t.modalState,i=e.dispatch,a=(0,R.useState)(""),u=a[0],s=a[1],c=(0,R.useState)(null),l=c[0],d=c[1],p=(0,R.useState)(null),f=p[0],E=p[1],m=(0,R.useState)(!1),h=m[0],S=m[1],v=function(){return ii(void 0,void 0,void 0,(function(){var e;return ai(this,(function(t){switch(t.label){case 0:return E(null),S(!0),[4,r.accountPin.unlock(u)];case 1:return(e=t.sent()).isError?(S(!1),E(Lo(n,e.error)),[2]):(i({type:Mo.SET_ACCOUNT_PIN_UNLOCKED_UNTIL,accountPinUnlockedUntil:Date.now()+1e3*e.value.unlockedUntil}),i({type:Mo.SET_MODAL_STATE,modalState:ko.CHANGE_PASSWORD_FORM}),[2])}}))}))},A=null===l&&""!==u,_={content:h?U().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):n.Action.UnlockAccountPin,label:n.Action.UnlockAccountPin,enabled:!h&&A,action:v};return U().createElement(U().Fragment,null,U().createElement(ri,{headerText:o===ko.ACCOUNT_PIN_FORM_EXPIRED?n.Header.AccountPinExpired:n.Header.AccountPinRequired,buttonType:Fo.BACK,buttonAction:oi(i),buttonEnabled:!h,headerInfo:null}),U().createElement(Do.Modal.Body,null,U().createElement("div",{className:"modal-lock-icon"}),U().createElement("p",{className:"modal-margin-bottom-xlarge"},n.Description.EnterYourAccountPin),U().createElement(ti,{id:"inputAccountPin",label:n.Label.AccountPin,inputType:"password",autoComplete:"off",placeholder:"",disabled:h,value:u,setValue:s,error:l||f,setError:d,validate:zo,canSubmit:A,handleSubmit:v,onChange:function(){return E(null)}})),U().createElement(ni,{positiveButton:_,negativeButton:null}))},si=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},ci=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},li=function(e){var t=e.closeModal,n=Bo().state,r=n.resources,o=n.requestService,i=n.promptAssignment,a=(0,R.useState)(null),u=a[0],s=a[1],c=(0,R.useState)(!1),l=c[0],d=c[1],p=function(){return si(void 0,void 0,void 0,(function(){var e;return ci(this,(function(t){switch(t.label){case 0:return[4,o.promptAssignments.updateForCurrentUser(st.DISMISS_PROMPT,i.promptType)];case 1:return(e=t.sent()).isError&&console.warn(yo,"Dismissing Account Restores Policy Upsell prompt failed with error",e.error&&$e[e.error]),[2]}}))}))},f={content:l?U().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):r.Action.SetUpAuthenticatorAccountRestoresPolicyUpsell,label:r.Action.SetUpAuthenticatorAccountRestoresPolicyUpsell,enabled:!l,action:function(){return si(void 0,void 0,void 0,(function(){return ci(this,(function(e){switch(e.label){case 0:return s(null),d(!0),[4,p()];case 1:return e.sent(),window.open("/my/account#!/security?src=authpopup","_self"),[2]}}))}))}};return U().createElement(U().Fragment,null,U().createElement(ri,{headerText:r.Header.AccountRestoresPolicyUpsell,buttonType:Fo.CLOSE,buttonAction:function(){return si(void 0,void 0,void 0,(function(){return ci(this,(function(e){switch(e.label){case 0:return t(),[4,p()];case 1:return e.sent(),[2]}}))}))},buttonEnabled:!0,headerInfo:null}),U().createElement(Do.Modal.Body,null,U().createElement("div",{className:"modal-lock-icon"}),U().createElement("p",{className:"modal-margin-bottom-sm",dangerouslySetInnerHTML:{__html:r.Description.AccountRestoresPolicyUpsellMessageBody(Po)}}),U().createElement("p",{className:"text-error xsmall"},u)),U().createElement(ni,{positiveButton:f,negativeButton:null}))},di=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},pi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},fi=function(e){var t=e.closeModal,n=Bo().state,r=n.resources,o=n.requestService,i=n.promptAssignment,a=(0,R.useState)(null),u=a[0],s=a[1],c=(0,R.useState)(!1),l=c[0],d=c[1],p=function(){return di(void 0,void 0,void 0,(function(){var e;return pi(this,(function(t){switch(t.label){case 0:return[4,o.promptAssignments.updateForCurrentUser(st.DISMISS_PROMPT,i.promptType)];case 1:return(e=t.sent()).isError&&console.warn(yo,"Dismissing Authenticator Upsell prompt failed with error",e.error&&$e[e.error]),[2]}}))}))},f={content:l?U().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):r.Action.AuthenticatorUpsellNextButtonMessage,label:r.Action.AuthenticatorUpsellNextButtonMessage,enabled:!l,action:function(){return di(void 0,void 0,void 0,(function(){return pi(this,(function(e){switch(e.label){case 0:return s(null),d(!0),[4,p()];case 1:return e.sent(),window.open("/my/account#!/security?src=authpopup","_self"),[2]}}))}))}};return U().createElement(U().Fragment,null,U().createElement(ri,{headerText:r.Header.AuthenticatorUpsellDownloadAuthenticator,buttonType:Fo.CLOSE,buttonAction:function(){return di(void 0,void 0,void 0,(function(){return pi(this,(function(e){switch(e.label){case 0:return t(),[4,p()];case 1:return e.sent(),[2]}}))}))},buttonEnabled:!l,headerInfo:null}),U().createElement(Do.Modal.Body,null,U().createElement("div",null,U().createElement("p",null,r.Label.AuthenticatorUpsellDownloadInstruction)),U().createElement("div",{className:"authenticator-upsell-download-grid"},U().createElement("div",{className:"grid-container"},U().createElement("div",{className:"grid-item"},U().createElement("div",{className:"modal-checkmark-icon"})),U().createElement("div",{className:"grid-item"},U().createElement("div",null,r.Label.AuthenticatorUpsellMicrosoftOption)),U().createElement("div",{className:"grid-item"},U().createElement("div",{className:"modal-checkmark-icon"})),U().createElement("div",{className:"grid-item"},U().createElement("div",null,r.Label.AuthenticatorUpsellGoogleOption)),U().createElement("div",{className:"grid-item"},U().createElement("div",{className:"modal-checkmark-icon"})),U().createElement("div",{className:"grid-item"},U().createElement("div",null,r.Label.AuthenticatorUpsellTwilioOption)))),U().createElement("p",{className:"text-error xsmall"},u)),U().createElement(ni,{positiveButton:f,negativeButton:null}))},Ei=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},mi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},hi=function(e){var t=e.closeModal,n=Bo(),r=n.state,o=r.resources,i=r.requestService,a=r.promptAssignment,u=n.dispatch,s=(0,R.useState)(null),c=s[0],l=s[1],d=(0,R.useState)(!1),p=d[0],f=d[1],E={content:p?U().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):o.Action.AuthenticatorUpsellSetupAuthenticatorButtonMessage,label:o.Action.AuthenticatorUpsellSetupAuthenticatorButtonMessage,enabled:!p,action:function(){return Ei(void 0,void 0,void 0,(function(){var e;return mi(this,(function(t){switch(t.label){case 0:return l(null),f(!0),[4,i.accountPin.getState()];case 1:return(e=t.sent()).isError?(f(!1),l(Lo(o,e.error)),[2]):(u({type:Mo.SET_MODAL_STATE,modalState:ko.AUTHENTICATOR_UPSELL_DOWNLOAD_APPS}),[2])}}))}))}};return U().createElement(U().Fragment,null,U().createElement(ri,{headerText:o.Header.AuthenticatorUpsellWelcomeMessage,buttonType:Fo.CLOSE,buttonAction:function(){return Ei(void 0,void 0,void 0,(function(){return mi(this,(function(e){switch(e.label){case 0:return t(),[4,Ei(void 0,void 0,void 0,(function(){var e;return mi(this,(function(t){switch(t.label){case 0:return[4,i.promptAssignments.updateForCurrentUser(st.DISMISS_PROMPT,a.promptType)];case 1:return(e=t.sent()).isError&&console.warn(yo,"Dismissing Authenticator Upsell prompt failed with error",e.error&&$e[e.error]),[2]}}))}))];case 1:return e.sent(),[2]}}))}))},buttonEnabled:!p,headerInfo:null}),U().createElement(Do.Modal.Body,null,U().createElement("div",{className:"authenticator-upsell-intro-grid"},U().createElement("div",{className:"grid-container"},U().createElement("div",{className:"grid-item"},U().createElement("div",{className:"modal-two-factors-icon"})),U().createElement("div",{className:"grid-item"},U().createElement("b",null,o.Label.AuthenticatorUpsellTwoFactorHeadline),U().createElement("div",null,o.Label.AuthenticatorUpsellTwoFactorMessage)),U().createElement("div",{className:"grid-item"},U().createElement("div",{className:"modal-protect-icon"})),U().createElement("div",{className:"grid-item"},U().createElement("b",null,o.Label.AuthenticatorUpsellProtectRobuxHeadline),U().createElement("div",null,o.Label.AuthenticatorUpsellProtectRobuxMessage)),U().createElement("div",{className:"grid-item"},U().createElement("div",{className:"modal-keep-bad-icon"})),U().createElement("div",{className:"grid-item"},U().createElement("b",null,o.Label.AuthenticatorUpsellBadActorHeadline),U().createElement("div",null,o.Label.AuthenticatorUpsellBadActorMessage)))),U().createElement("p",{className:"text-error xsmall"},c)),U().createElement(ni,{positiveButton:E,negativeButton:null}))},Si=function(e){var t=e.closeModal,n=Bo().state.resources;return U().createElement(U().Fragment,null,U().createElement(ri,{headerText:n.Header.Success,buttonType:Fo.CLOSE,buttonAction:t,buttonEnabled:!0,headerInfo:null}),U().createElement(Do.Modal.Body,null,U().createElement("div",{className:"modal-lock-icon"}),U().createElement("p",{className:"modal-margin-bottom-large"},n.Description.ChangeYourPasswordSuccess)))},vi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Ai=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},_i=function(){var e=Bo(),t=e.state,n=t.username,r=t.resources,o=t.requestService,i=t.accountPinUnlockedUntil,a=e.dispatch,u=(0,R.useState)(""),s=u[0],c=u[1],l=(0,R.useState)(null),d=l[0],p=l[1],f=(0,R.useState)(""),E=f[0],m=f[1],h=(0,R.useState)(null),S=h[0],v=h[1],A=(0,R.useState)(""),_=A[0],N=A[1],T=(0,R.useState)(null),O=T[0],b=T[1],y=(0,R.useState)(null),P=y[0],w=y[1],I=(0,R.useState)(!1),D=I[0],g=I[1],L=(0,R.useState)(!1),M=L[0],k=L[1],F=(0,R.useState)(0),x=F[0],V=F[1],H=(0,R.useState)(0),W=H[0],B=H[1],Y=function(){return w(null)},G=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.forEach((function(e){return e(t)}))}},K=function(){return vi(void 0,void 0,void 0,(function(){var e,t;return Ai(this,(function(n){switch(n.label){case 0:return w(null),k(!0),[4,o.password.changeForCurrentUser(s,E)];case 1:return(e=n.sent()).isError?(k(!1),e.error===Ce.PIN_LOCKED?(a({type:Mo.SET_MODAL_STATE,modalState:ko.ACCOUNT_PIN_FORM_EXPIRED}),[2]):(e.error===Ce.INVALID_CURRENT_PASSWORD?g(!0):g(!1),w(function(e,t){switch(t){case Ce.FLOODED:return e.Message.Error.Passwords.Flooded;case Ce.INVALID_PASSWORD:return e.Message.Error.Passwords.InvalidPassword;case Ce.INVALID_CURRENT_PASSWORD:return e.Message.Error.Passwords.InvalidCurrentPassword;case Ce.PIN_LOCKED:return e.Message.Error.Passwords.PinLocked;default:return e.Message.Error.Passwords.Default}}(r,e.error)),[2])):null===i?[3,3]:[4,o.accountPin.lock()];case 2:(t=n.sent()).isError&&t.error!==C.ACCOUNT_LOCKED||a({type:Mo.SET_ACCOUNT_PIN_UNLOCKED_UNTIL,accountPinUnlockedUntil:null}),n.label=3;case 3:return a({type:Mo.SET_MODAL_STATE,modalState:ko.CHANGE_PASSWORD_CONFIRMATION}),[2]}}))}))};(0,R.useEffect)((function(){var e,t=function(){if(null!==i)if(Date.now()<i){var t=(i-Date.now())/1e3;V(Math.floor(t/60)),B(Math.floor(t%60))}else a({type:Mo.SET_MODAL_STATE,modalState:ko.ACCOUNT_PIN_FORM_EXPIRED});else clearInterval(e)};return t(),e=setInterval(t,1e3),function(){return clearInterval(e)}}),[i,V,B,a]);var Q=""!==s&&null===d&&""!==E&&null===S&&""!==_&&null===O,X={content:M?U().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):r.Action.SubmitChangePassword,label:r.Action.SubmitChangePassword,enabled:!M&&Q,action:K},q=U().createElement("a",{href:"https://en.help.roblox.com/hc/articles/203313070-I-Forgot-My-Password",className:"bottom-label-link",target:"_blank",rel:"noreferrer"},r.Label.IForgotMyPassword),j=U().createElement(R.Fragment,null,U().createElement("div",{className:"shield-check-icon xsmall"}),U().createElement("div",{className:"bottom-label-text-with-start-margin text-label xsmall"},r.Label.UseAUniquePassword));return U().createElement(U().Fragment,null,U().createElement(ri,{headerText:r.Header.CreateAStrongPassword,buttonType:Fo.BACK,buttonAction:oi(a),buttonEnabled:!M,headerInfo:null!==i?U().createElement(U().Fragment,null,U().createElement("p",{className:"small modal-modern-header-info-line"},r.Label.TimeRemaining),U().createElement("p",{className:"small modal-modern-header-info-line",style:{fontFamily:"monospace, monospace"}},x.toString().padStart(2,"0"),":",W.toString().padStart(2,"0"))):null}),U().createElement(Do.Modal.Body,null,U().createElement(ti,{id:"inputCurrentPassword",label:r.Label.CurrentPassword,bottomLabel:q,inputType:"password",autoComplete:"current-password",placeholder:"",disabled:M,value:s,setValue:c,error:d||D&&P||null,setError:p,validate:zo,canSubmit:Q,handleSubmit:K,onChange:Y}),U().createElement(ti,{id:"inputNewPassword",label:r.Label.NewPassword,bottomLabel:j,inputType:"password",autoComplete:"new-password",placeholder:r.Label.AtLeastCharacters(8),disabled:M,value:E,setValue:m,error:S,setError:G((function(){return b(null)}),v),validate:$o(Jo(o,r,n,r.Message.Error.PasswordValidation.Default),""!==_?Zo(r.Message.Error.Input.PasswordsDoNotMatch,_):zo),canSubmit:Q,handleSubmit:K,onChange:Y}),U().createElement(ti,{id:"inputNewPasswordAgain",label:r.Label.ConfirmNewPassword,inputType:"password",autoComplete:"new-password",placeholder:"",disabled:M,value:_,setValue:N,error:O||!D&&P||null,setError:G((function(){return v(null)}),b),validate:$o(Zo(r.Message.Error.Input.PasswordsDoNotMatch,E),Jo(o,r,n,r.Message.Error.PasswordValidation.Default)),canSubmit:Q,handleSubmit:K,onChange:Y})),U().createElement(ni,{positiveButton:X,negativeButton:null}))},Ni=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Ti=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Oi=function(e){var t=e.closeModal,n=Bo(),r=n.state,o=r.promptAssignment,i=r.resources,a=r.requestService,u=n.dispatch,s=(0,R.useState)(null),c=s[0],l=s[1],d=(0,R.useState)(!1),p=d[0],f=d[1],E="An unexpected issue occurred while displaying this text.";o.isGeneric||(E=o.promptType!==nt.CHANGE_PASSWORD__BREACHED_CREDENTIAL?i.Description.UnusualActivity+" "+i.Description.ChangeYourPassword:i.Description.ChangeYourPasswordImmediately+" "+i.Description.NoChangeForceReset(Yo(o.metadata.forceResetTimestamp)));var m={content:p?U().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):i.Action.ContinueChangePassword,label:i.Action.ContinueChangePassword,enabled:!p,action:function(){return Ni(void 0,void 0,void 0,(function(){var e,t;return Ti(this,(function(n){switch(n.label){case 0:return l(null),f(!0),[4,a.accountPin.getState()];case 1:return(e=n.sent()).isError?(f(!1),l(Lo(i,e.error)),[2]):(t=null!==e.value.unlockedUntil&&e.value.unlockedUntil>0,!e.value.isEnabled||t?(u({type:Mo.SET_ACCOUNT_PIN_UNLOCKED_UNTIL,accountPinUnlockedUntil:null!==e.value.unlockedUntil?Date.now()+1e3*e.value.unlockedUntil:null}),u({type:Mo.SET_MODAL_STATE,modalState:ko.CHANGE_PASSWORD_FORM}),[2]):(u({type:Mo.SET_MODAL_STATE,modalState:ko.ACCOUNT_PIN_FORM}),[2]))}}))}))}};return U().createElement(U().Fragment,null,U().createElement(ri,{headerText:i.Header.ChangeYourPassword,buttonType:Fo.CLOSE,buttonAction:t,buttonEnabled:!p,headerInfo:null}),U().createElement(Do.Modal.Body,null,U().createElement("div",{className:"modal-lock-icon"}),U().createElement("p",{className:"modal-margin-bottom",dangerouslySetInnerHTML:{__html:E}}),U().createElement("p",{className:"text-error xsmall"},c)),U().createElement(ni,{positiveButton:m,negativeButton:null}))},bi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},yi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Ci=function(e){var t=e.closeModal,n=Bo(),r=n.state,o=r.promptAssignment,i=r.resources,a=r.requestService,u=n.dispatch,s=(0,R.useState)(!1),c=s[0],l=s[1],d=i.Description.AreYouSureDismissForeverChangePassword,p=i.Action.ConfirmDismissForeverChangePassword,f=i.Action.AbortDismissForeverChangePassword,E={content:f,label:f,enabled:!c,action:function(){u({type:Mo.SET_MODAL_STATE,modalState:ko.CHANGE_PASSWORD_INTRO})}},m={content:c?U().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):p,label:p,enabled:!c,action:function(){return bi(void 0,void 0,void 0,(function(){var e;return yi(this,(function(n){switch(n.label){case 0:return l(!0),[4,a.promptAssignments.updateForCurrentUser(st.DISABLE_PROMPT,o.promptType)];case 1:return(e=n.sent()).isError?(l(!1),console.warn(yo,"Disabling prompt failed with error",e.error&&$e[e.error]),[2]):(u({type:Mo.DISMISS_FOREVER}),t(),[2])}}))}))}};return U().createElement(U().Fragment,null,U().createElement(ri,{headerText:i.Header.AreYouSure,buttonType:Fo.HIDDEN,buttonAction:t,buttonEnabled:!0,headerInfo:null}),U().createElement(Do.Modal.Body,null,U().createElement("div",{className:"modal-lock-icon"}),U().createElement("p",null,d)),U().createElement(ni,{positiveButton:E,negativeButton:m}))},Pi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},wi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Ri=function(e){var t=e.closeModal,n=Bo().state,r=n.resources,o=n.requestService,i=n.promptAssignment,a=(0,R.useState)(null),u=a[0],s=a[1],c=(0,R.useState)(!1),l=c[0],d=c[1],p=function(){return Pi(void 0,void 0,void 0,(function(){var e;return wi(this,(function(t){switch(t.label){case 0:return[4,o.promptAssignments.updateForCurrentUser(st.DISMISS_PROMPT,i.promptType)];case 1:return(e=t.sent()).isError&&console.warn(yo,"Dismissing Account Restores Policy Upsell prompt failed with error",e.error&&$e[e.error]),[2]}}))}))},f={content:l?U().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):r.Action.SetUpEmail2SV,label:r.Action.SetUpEmail2SV,enabled:!l,action:function(){return Pi(void 0,void 0,void 0,(function(){return wi(this,(function(e){switch(e.label){case 0:return s(null),d(!0),[4,p()];case 1:return e.sent(),window.open("/my/account#!/security?src=emailhighlight","_self"),[2]}}))}))}};return U().createElement(U().Fragment,null,U().createElement(ri,{headerText:r.Header.Email2SVUpsell,buttonType:Fo.CLOSE,buttonAction:function(){return Pi(void 0,void 0,void 0,(function(){return wi(this,(function(e){switch(e.label){case 0:return t(),[4,p()];case 1:return e.sent(),[2]}}))}))},buttonEnabled:!0,headerInfo:null}),U().createElement(Do.Modal.Body,null,U().createElement("div",{className:"modal-lock-icon"}),U().createElement("p",{className:"modal-margin-bottom-sm",dangerouslySetInnerHTML:{__html:r.Description.Email2SVUpsellMessageBody(Po)}}),U().createElement("p",{className:"text-error xsmall"},u)),U().createElement(ni,{positiveButton:f,negativeButton:null}))},Ui=function(){var e=Bo(),t=e.state,n=t.isFlowComplete,r=t.modalState,o=t.promptAssignment,i=e.dispatch,a=(0,R.useState)(!0),u=a[0],s=a[1],c=function(){return s(!1)},l=function(e){switch(e){case ko.CHANGE_PASSWORD_INTRO:return{innerFragment:Oi,canClickBackdropToClose:!0};case ko.CHANGE_PASSWORD_FORM:return{innerFragment:_i,canClickBackdropToClose:!1};case ko.ACCOUNT_PIN_FORM:case ko.ACCOUNT_PIN_FORM_EXPIRED:return{innerFragment:ui,canClickBackdropToClose:!1};case ko.CHANGE_PASSWORD_CONFIRMATION:return{innerFragment:Si,canClickBackdropToClose:!0};case ko.CHANGE_PASSWORD_DISMISS_CONFIRMATION:return{innerFragment:Ci,canClickBackdropToClose:!1};case ko.AUTHENTICATOR_UPSELL_OPENING:return{innerFragment:hi,canClickBackdropToClose:!1};case ko.AUTHENTICATOR_UPSELL_DOWNLOAD_APPS:return{innerFragment:fi,canClickBackdropToClose:!1};case ko.ACCOUNT_RESTORE_POLICY_UPSELL:return{innerFragment:li,canClickBackdropToClose:!1};case ko.EMAIL_2SV_UPSELL:return{innerFragment:Ri,canClickBackdropToClose:!1};default:return null}}(r),d=o.promptType===nt.AUTHENTICATOR_UPSELL||o.promptType===nt.ACCOUNT_RESTORES_POLICY_UPSELL||o.promptType===nt.BROADER_AUTHENTICATOR_UPSELL&&!0!==o.isGeneric&&!o.metadata.showBanner||o.promptType===nt.EMAIL_2SV_UPSELL&&!0!==o.isGeneric&&!o.metadata.showBanner;return U().createElement(U().Fragment,null,!n&&!d&&U().createElement(Qo,null),l&&U().createElement(Do.Modal,{className:"modal-modern modal-modern-security-prompt",show:u,onHide:c,onExited:function(){i({type:Mo.SET_MODAL_STATE,modalState:ko.NONE}),s(!0)},backdrop:l.canClickBackdropToClose?void 0:"static"},U().createElement(l.innerFragment,{closeModal:c})))},Ii=(0,bo.withTranslations)((function(e){var t=e.promptAssignment,n=e.username,r=e.isUserUnder13,o=e.eventService,i=e.requestService,a=e.translate;return U().createElement(Wo,{promptAssignment:t,username:n,isUserUnder13:r,eventService:o,requestService:i,translate:a},U().createElement(Ui,null))}),Io),Di=function(){function e(e){this.promptType=e}return e.prototype.sendModalStateViewedEvent=function(e){w().EventStream.SendEventWithTarget(Ro,Uo.modalStateViewed,{promptType:this.promptType,state:e},w().EventStream.TargetTypes.WWW)},e}(),gi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Li=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Mi=new Oo,ki=function(e,t,n){var r=document.getElementById("account-security-prompt-container");if(null!==r){(0,I.unmountComponentAtNode)(r);var o=new Di(e.promptType);(0,I.render)(U().createElement(Ii,{promptAssignment:e,username:t,isUserUnder13:n,eventService:o,requestService:Mi}),r)}};P.CurrentUser&&P.CurrentUser.isAuthenticated&&"unknown"===(0,P.DeviceMeta)().appType&&(Object.assign(w(),{AccountSecurityPrompt:{render:ki,PromptType:nt}}),gi(void 0,void 0,Promise,(function(){var e,t,n,r,o,i,a;return Li(this,(function(u){switch(u.label){case 0:return[4,Mi.promptAssignments.getAllForCurrentUser()];case 1:if((e=u.sent()).isError)return console.warn(yo,"Retrieving prompt assignments failed with error",e.error&&$e[e.error]),[2];if(0===(t=e.value).length)return console.log(yo,"No assignments were retrieved"),[2];if(window.location.href.includes(Co)||window.location.href.includes(".com/my/account"))return[2];for(n=null,r=0;r<t.length;r++){if((o=t[r]).promptType!==nt.BROADER_AUTHENTICATOR_UPSELL&&o.promptType!==nt.EMAIL_2SV_UPSELL||!1!==o.isGeneric||o.metadata.pageRestriction!==tt.HOME_PAGE_ONLY||window.location.href.includes(".com/home")){n=o;break}n=null}return null===n?[2]:n.isGeneric?[4,Mi.translations.queryAndOverwriteResourcesForNamespace(Io.feature,[n.metadata.headerResource,n.metadata.bodyResource])]:[3,3];case 2:if((i=u.sent()).isError)return console.warn(yo,"Got error code "+((null===(a=i.error)||void 0===a?void 0:a.toString())||"null")+" loading translations"),[2];u.label=3;case 3:return ki(n,P.CurrentUser.name,P.CurrentUser.isUnder13),[2]}}))})))}();
//# sourceMappingURL=https://js.rbxcdn.com/eddae1fab4c56b0b4dcd2cf2fb88213a-accountSecurityPrompt.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("AccountSecurityPrompt");