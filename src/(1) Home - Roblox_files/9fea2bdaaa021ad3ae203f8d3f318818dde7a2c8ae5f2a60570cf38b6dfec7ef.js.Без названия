!function(){var a={779:function(e,t){var a;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var o={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n,r=typeof a;if("string"==r||"number"==r)e.push(a);else if(Array.isArray(a))!a.length||(n=l.apply(null,a))&&e.push(n);else if("object"==r)if(a.toString===Object.prototype.toString||a.toString.toString().includes("[native code]"))for(var i in a)o.call(a,i)&&a[i]&&e.push(i);else e.push(a.toString())}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(a=function(){return l}.apply(t,[]))||(e.exports=a)}()}},n={};function ia(e){if(n[e])return n[e].exports;var t=n[e]={exports:{}};return a[e](t,t.exports,ia),t.exports}ia.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return ia.d(t,{a:t}),t},ia.d=function(e,t){for(var a in t)ia.o(t,a)&&!ia.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},ia.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function I(e,a){return e.filter(function(e){var t;return(null===(t=e.presence)||void 0===t?void 0:t.universeId)===a&&(null===(e=e.presence)||void 0===e?void 0:e.userPresenceType)===p.Presence.PresenceTypes.InGame})}function a(e,t){var a=0;if(!Number.isNaN(e)&&!Number.isNaN(t)){if(0===e&&0===t)return;a=0===e&&0!==t?0:0!==e&&0===t||100<(a=Math.floor(e/(e+t)*100))?100:a}return a}function n(a){return Object.keys(a).reduce(function(e,t){return"object"==typeof a[t]&&a[t]&&(e[t]=JSON.stringify(a[t])),"number"==typeof a[t]&&(e[t]=a[t]),"string"==typeof a[t]&&(e[t]=encodeURIComponent(a[t])),"boolean"==typeof a[t]&&(e[t]=a[t]?1:0),e},{})}function m(t,e){var a;return e.some(function(e){return null===(e=t[e])||void 0===e?void 0:e.isSponsored})?((a={})[C.AdsPositions]=e.map(function(e){return t[e].isSponsored?1:0}),a[C.AdFlags]=e.map(function(e){return t[e].isSponsored?1:0}),a[C.AdIds]=e.map(function(e){return(null===(e=t[e])||void 0===e?void 0:e.nativeAdData)||"0"}),a):{}}var r,D=React,x=ia.n(D),e=ReactDOM,i=CoreUtilities,o=ReactUtilities,t={common:["Common.GameSorts"],feature:"Feature.PlacesList"},f=CoreRobloxUtilities,p=Roblox,l="--",s=(new p.Intl).getDateTimeFormatter(),c=i.urlService.parseQueryString,u=(i.abbreviateNumber.getAbbreviatedValue,i.numberFormat.getNumberFormat,a),d=function(e,t){t=a(e,t);return void 0!==t?t+"%":void 0},v=function(e){return-1===e?l:i.abbreviateNumber.getAbbreviatedValue(e)},g=function(a,n){if(0===a.length||0===n)return[a];var e=Math.ceil(a.length/n);return new Array(e).fill(0).map(function(e,t){return a.slice(t*n,(t+1)*n)})},y="robloxAttributionIds";function h(e){var t=window,a=t[y];return a||(a={},t[y]=a),(t=a[e])||(t=i.uuidService.generateRandomUuid(),a[e]=t),t}function b(){return document.getElementById("place-list")}(r=r||{}).GameDetailReferral="gameDetailReferral";var P,E=function(e){return"games#/sortName/"+e},S=function(e){return"games#/sortName/v2/"+e};function w(e,t,a){return void 0===a&&(a={}),i.urlService.getUrlWithQueries(f.entityUrl.game.getRelativePath(e)+"/"+i.seoName.formatSeoName(t),a)}function N(e,t,a){return void 0===a&&(a={}),t=function(e,t){var a=encodeURIComponent(e);switch(t){case P.HomePage:return S(a);case P.GamesPage:return E(a);default:return S(a)}}(e,t),i.urlService.getUrlWithQueries(t,a)}function T(){return document.referrer}(s=P=P||{}).SearchPage="searchPage",s.SortDetailPageDiscover="sortDetailPageDiscover",s.SortDetailPageHome="sortDetailPageHome",s.GameDetailPage="gameDetailPage",s.GamesPage="gamesPage",s.HomePage="homePage",s.PeopleListInHomePage="peopleListInHomePage";var C,G,R,M=w,O=function(){return(O=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},A=function(e,t){var a={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a},L=(c=f.eventStreamService.eventTypes).pageLoad,k=c.formInteraction;function U(e){e instanceof SyntaxError&&window.sessionStorage.removeItem(W)}function H(a,n){void 0===n&&(n=!1);var e=(0,D.useState)(J([a])[a]),t=e[0],r=e[1];return(0,D.useEffect)(function(){var e,t;n&&(t=i.uuidService.generateRandomUuid(),K(((e={})[a]=t,e)),r(t))},[a,n]),t}(s=C=C||{}).AbsPositions="absPositions",s.AdsPositions="adsPositions",s.AdFlags="adFlags",s.Algorithm="algorithm",s.AttributionId="attributionId",s.HttpReferrer="httpReferrer",s.EmphasisFlag="emphasisFlag",s.GameSetTargetId="gameSetTargetId",s.GameSetTypeId="gameSetTypeId",s.IsAd="isAd",s.NativeAdData="nativeAdData",s.AdIds="adIds",s.NumberOfLoadedTiles="numberOfLoadedTiles",s.Page="page",s.PlaceId="placeId",s.Position="position",s.RootPlaceIds="rootPlaceIds",s.SortId="sortId",s.SortPos="sortPos",s.SuggestionKwd="suggestionKwd",s.SuggestionReplacedKwd="suggestionReplacedKwd",s.SuggestionCorrectedKwd="suggestionCorrectedKwd",s.SuggestionAlgorithm="suggestionAlgorithm",s.Topics="topics",s.TreatmentType="treatmentType",s.UniverseId="universeId",s.UniverseIds="universeIds",s.FriendId="friendId",(c=G=G||{}).GameImpressions="gameImpressions",c.GameDetailReferral="gameDetailReferral",c.SortDetailReferral="sortDetailReferral",(s=R=R||{}).HomePageSessionInfo="homePageSessionInfo",s.GameSearchSessionInfo="gameSearchSessionInfo",s.DiscoverPageSessionInfo="discoverPageSessionInfo";var j,B,F,V,z=((c={})[G.GameImpressions]=function(e){e=A(e,[]);return[{name:G.GameImpressions,type:G.GameImpressions,context:k},n(O({},e))]},c[G.GameDetailReferral]=function(e){var t;return void 0===e&&(e={}),[{name:G.GameDetailReferral,type:G.GameDetailReferral,context:L},n(O(((t={})[C.AttributionId]=h(r.GameDetailReferral),t[C.HttpReferrer]=T(),t),e))]},c[G.SortDetailReferral]=function(e){return void 0===e&&(e={}),[{name:G.SortDetailReferral,type:G.SortDetailReferral,context:L},n(O({},e))]},c),q=function(){return(q=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},W="eventTracker",K=function(e){try{var t=JSON.parse(window.sessionStorage.getItem(W)||"{}"),t=q(q({},t),e);return window.sessionStorage.setItem(W,JSON.stringify(t)),!0}catch(e){return U(e),!1}},J=function(e){try{var a=JSON.parse(window.sessionStorage.getItem(W)||"{}");return e.reduce(function(e,t){return e[t]=a[t],e},{})}catch(e){return U(e),{}}},Q=H,_={url:{getOmniRecommendations:{url:(s=(p.EnvironmentUrls.apiGatewayUrl,p.EnvironmentUrls.apiGatewayUrl))+"/discovery-api/omni-recommendation",withCredentials:!0},getOmniRecommendationsMetadata:{url:s+"/discovery-api/omni-recommendation-metadata",withCredentials:!0},getOmniSearch:{url:s+"/search-api/omni-search",withCredentials:!0},getExploreSorts:{url:s+"/explore-api/v1/get-sorts",withCredentials:!0},getExploreSortContents:{url:s+"/explore-api/v1/get-sort-content",withCredentials:!0}}};(c=j=j||{}).Game="Game",c.CatalogAsset="CatalogAsset",c.CatalogBundle="CatalogBundle",(s=B=B||{}).Carousel="Carousel",s.AvatarCarousel="AvatarCarousel",s.SortlessGrid="SortlessGrid",(c={}).Sponsored="Sponsored",c.SponsoredGame="SponsoredGame",(s=F=F||{}).AppGameTileNoMetadata="AppGameTileNoMetadata",s.GridTile="GridTile",(c=V=V||{}).Always="Always",c.Hover="Hover";var X=function(e,o,l,s){return new(l=l||Promise)(function(a,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?a(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,r)}i((s=s.apply(e,o||[])).next())})},Y=function(a,n){var r,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(a,l)}catch(e){t=[6,e],i=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Z=function(n,r){return X(void 0,void 0,Promise,function(){var t,a;return Y(this,function(e){switch(e.label){case 0:return t={pageType:n,sessionId:r||i.uuidService.generateRandomUuid(),supportedTreatmentTypes:[B.SortlessGrid]},[4,i.httpService.post(_.url.getOmniRecommendations,t)];case 1:return a=e.sent().data,Object.keys(a.contentMetadata.Game).forEach(function(e){e=a.contentMetadata.Game[e];e.placeId=e.rootPlaceId}),[2,a]}})})},$=function(a,n){return X(void 0,void 0,Promise,function(){var t;return Y(this,function(e){switch(e.label){case 0:return[4,i.httpService.post(_.url.getOmniRecommendationsMetadata,{contents:a,sessionId:n||i.uuidService.generateRandomUuid()})];case 1:return t=e.sent().data,Object.keys(t.contentMetadata.Game).forEach(function(e){e=t.contentMetadata.Game[e];e.placeId=e.rootPlaceId}),[2,t]}})})},s=ia(779),ee=ia.n(s),te=ReactStyleGuide,ae=te.Button.variants;(c=function(e){var t=e.errorMessage,a=e.onRefresh,e=e.className;return x().createElement("div",{"data-testid":"error-status",className:ee()("game-error",e)},x().createElement("span",{className:"icon-spot-error-2xl"}),x().createElement("p",{className:"text-label error-text"},t),x().createElement(te.Button,{className:"refresh-button",variant:ae.control,onClick:a},x().createElement("span",{className:"icon-common-refresh"})))}).defaultProps={className:""};var ne=c,re={LabelSponsoredAd:"Label.SponsoredAd",LabelNoSearchResults:"LabelNoSearchResults",LabelPlayingOnePlusUsersWithComma:"LabelPlayingOnePlusUsersWithComma",LabelPlayingOneUser:"LabelPlayingOneUser",LabelBy:"LabelCreatorBy",LabelByPrefix:"Label.By"},ie={LabelApiError:"Label.ApiError",LabelGames:"Label.Games"},oe={ActionSeeAll:"Action.SeeAll"},le=HeaderScripts,se=p.EnvironmentUrls.gamesApi,ce={url:{getOmniRecommendations:function(e,t){return{url:se+"/v1/games/omni-recommendations?model.pageType="+e+(void 0!==t?"&model.sessionId="+t:""),withCredentials:!0}},getOmniRecommendationsMetadata:{url:se+"/v1/games/omni-recommendations-metadata",withCredentials:!0},getGameList:{url:se+"/v1/games/list",withCredentials:!0},getGamePasses:function(e,t){return{url:i.urlService.getAbsoluteUrl("/Games/GetGamePassesPaged?placeId="+e+"&startIndex=0&maxRows="+t),withCredentials:!0}},getGameRecommendations:function(e){return{url:se+"/v1/games/recommendations/game/"+e,withCredentials:!0}},getGameSorts:{url:se+"/v1/games/sorts",withCredentials:!0},getUniverseVoiceStatus:function(e){return{withCredentials:!0,url:p.EnvironmentUrls.voiceApi+"/v1/settings/universe/"+e}},getVoiceOptInStatus:{withCredentials:!0,url:p.EnvironmentUrls.voiceApi+"/v1/settings/user-opt-in"}},defaultCacheCriteria:{refreshCache:!1,expirationWindowMS:3e4,useCache:!0}},ue=function(e,o,l,s){return new(l=l||Promise)(function(a,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?a(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,r)}i((s=s.apply(e,o||[])).next())})},de=function(a,n){var r,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(a,l)}catch(e){t=[6,e],i=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},me=ce.defaultCacheCriteria,fe=f.dataStores.gamesDataStore,pe=f.dataStores.userDataStoreV2,ve=f.dataStores.userDataStore.FriendsUserSortType,ge=function(){return pe.getFriends({userId:null===le.authenticatedUser||void 0===le.authenticatedUser?void 0:le.authenticatedUser.id,userSort:ve.StatusFrequents,isGuest:!1},me)},ye=function(a){return ue(void 0,void 0,Promise,function(){var t;return de(this,function(e){switch(e.label){case 0:return[4,fe.getPlaceDetails([a])];case 1:return t=e.sent().data,[2,(void 0===t?[]:t)[0]]}})})},he=RobloxThumbnails,be={maxTilesPerCarouselPage:6,maxGridTilesPerCarouselPage:4,minGridTilesPerCarouselPage:2,gameTileWidth:150,homeFeedMaxWidth:970,gridTileTilesPerRowBreakpointWidth:738,sortlessGridMaxTilesMetadataToFetch:300},Ie={maxTilesInGameImpressionsEvent:25,gameImpressionsIntersectionThreshold:.5,numberOfInGameAvatarIcons:3,numberOfInGameNames:1,maxFacepileFriendCountValue:99,numberOfGameTilesPerLoad:60,numberOfGamePassesPerLoad:50,keyBoardEventCode:{enter:"Enter"},RatingPercentageText:"Label.RatingPercentage"},Pe=.1,Ee=be,s={numGameCarouselLookAheadWindows:3},c=PropTypes,Se="Label.ContextMenuTitle",we="Action.ViewDetails",Ne="Action.JoinGame",Te={goToProfileInPlacesList:{name:"goToProfileInPlacesList",ctx:"click"},openModalFromGameTile:{name:"openModalFromGameTile",ctx:"click"},goToChatInPlacesList:{name:"goToChatInPlacesList",ctx:"click"},joinGameInPlacesList:{name:"joinGameInPlacesList",ctx:"click"},goToGameDetailInPlacesList:{name:"goToGameDetailInPlacesList",ctx:"click"},gamePlayIntentInPlacesList:{ctx:"placesListInHomePage"}};function Ce(e){var t=e.game,a=e.translate,n=t.universeId,r=t.name,e=t.referralUrl,t=t.isPlayable,n=x().createElement(he.Thumbnail2d,{type:he.ThumbnailTypes.gameIcon,size:he.DefaultThumbnailSize,targetId:n,imgClassName:"game-card-thumb",format:he.ThumbnailFormat.jpeg});return x().createElement("div",{className:"border-bottom player-interaction-container"},x().createElement("span",{className:"cursor-pointer game-icon"},x().createElement(te.Link,{url:e,className:"game-card-link"},n)),x().createElement("span",{className:"game-info-container"},x().createElement(te.Link,{url:e,className:"game-name"},r),!t&&x().createElement(te.Link,{url:e,className:"btn-control-sm game-link"},a(we))))}Ce.propTypes={game:(c=ia.n(c))().shape({universeId:c().number,placeId:c().number,name:c().string,playerCount:c().number,isShowSponsoredLabel:c().bool,nativeAdData:c().string,imageUrl:c().string,referralUrl:c().string,isPlayable:c().bool}).isRequired,translate:c().func.isRequired};var Ge=Ce;function Re(e){var t=e.playerId,e=e.altName;return x().createElement("div",{className:"avatar-card-link"},x().createElement(he.Thumbnail2d,{type:he.ThumbnailTypes.avatarHeadshot,size:he.ThumbnailAvatarHeadshotSize.size48,targetId:t,imgClassName:"avatar-card-image",format:he.ThumbnailFormat.png,altName:e}))}Re.defaultProps={altName:""},Re.propTypes={playerId:c().number.isRequired,altName:c().string};var De=Re;function xe(e){var t=e.playerData,i=e.dismissModal,a=e.isPlayable,n=e.translate,e=t.presence,o=e.rootPlaceId,l=e.placeId,s=e.gameId,c=t.id,t=t.nameForDisplay;return x().createElement("div",{className:"border-bottom player-info"},x().createElement("span",{className:"player-name"},t),x().createElement(te.Button,{className:"cursor-pointer btn-primary-sm player-action",onClick:function(e){var t={rootPlaceId:o,placeId:l},a=f.playGameService.buildPlayGameProperties(o,l,s,c),n=Te.joinGameInPlacesList,r=Te.gamePlayIntentInPlacesList,r={eventName:n.name,ctx:n.ctx,properties:t,gamePlayIntentEventCtx:r.ctx};f.playGameService.launchGame(a,r),i(e)},isDisabled:!a},n(Ne)))}xe.propTypes={playerData:c().shape({presence:c().shape({rootPlaceId:c().number,placeId:c().number,gameId:c().string}),id:c().number,nameForDisplay:c().string}).isRequired,dismissModal:c().func.isRequired,isPlayable:c().bool.isRequired,translate:c().func.isRequired};var Me=xe;function Oe(e){var t=e.friendsData,a=e.friendsInGame,r=e.dismissModal,i=e.isPlayable,o=e.translate,l={};return t.forEach(function(e){l[e.id]=e}),x().createElement("div",{className:"interaction-container"},x().createElement("ul",{className:"interaction-list"},a.map(function(e,t){var a=e+t,n=l[e],t=n.id,e=n.nameForDisplay;return x().createElement("li",{key:a,className:"interaction-item","aria-hidden":"true"},x().createElement("span",{className:"avatar avatar-headshot avatar-headshot-sm player-avatar"},x().createElement(De,{playerId:t,altName:e})),x().createElement(Me,{playerData:n,dismissModal:r,isPlayable:i,translate:o}))})))}Oe.propTypes={friendsData:c().arrayOf(c().shape({presense:c().shape({rootPlaceId:c().number,placeId:c().number,gameId:c().string}),id:c().number,nameForDisplay:c().string})).isRequired,friendsInGame:c().arrayOf(c().number).isRequired,dismissModal:c().func.isRequired,isPlayable:c().bool.isRequired,translate:c().func.isRequired};var Ae=Oe;function Le(e){var t=e.friendsData,a=e.friendsInGame,n=e.game,r=e.dismissModal,i=e.translate,e=i(Se);return x().createElement("div",{"data-testid":"game-players-player-interaction-modal"},x().createElement(te.Modal.Header,{title:e,onClose:r}),x().createElement(Ge,{game:n,translate:i}),x().createElement(Ae,{friendsData:t,friendsInGame:a,dismissModal:r,isPlayable:n.isPlayable,translate:i}))}function ke(e){var t=e.id,a=e.children,n=e.gameData,r=e.isVisible,i=e.page,e=e.buildEventProperties;return x().createElement(te.Link,{url:M(n.placeId,n.name,e(n,t)),tabIndex:r?0:-1,"aria-hidden":!r,className:"game-card-link",id:n.universeId.toString()},i===P.GamesPage?x().createElement("div",{className:"game-card-thumb-container"},x().createElement(he.Thumbnail2d,{type:he.ThumbnailTypes.gameIcon,size:he.ThumbnailGameIconSize.size150,targetId:n.universeId,containerClass:"game-card-thumb",format:he.ThumbnailFormat.jpeg,altName:n.name})):x().createElement(he.Thumbnail2d,{type:he.ThumbnailTypes.gameIcon,size:he.ThumbnailGameIconSize.size150,targetId:n.universeId,containerClass:"game-card-thumb-container",format:he.ThumbnailFormat.jpeg,altName:n.name}),x().createElement("div",{className:"game-card-name game-name-title",title:n.name},n.name),a)}Le.propTypes={friendsData:c().arrayOf(c().shape({presense:c().shape({rootPlaceId:c().number,placeId:c().number,gameId:c().string}),id:c().number,nameForDisplay:c().string})).isRequired,friendsInGame:c().arrayOf(c().number).isRequired,game:c().shape({universeId:c().number,placeId:c().number,name:c().string,playerCount:c().number,isShowSponsoredLabel:c().bool,nativeAdData:c().string,imageUrl:c().string,referralUrl:c().string,isPlayable:c().bool}).isRequired,dismissModal:c().func.isRequired,translate:c().func.isRequired};var Ue=Le,He=function(){return(He=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},je=Ie.keyBoardEventCode,Be=Ie.numberOfInGameAvatarIcons,Fe=Ie.numberOfInGameNames;function Ve(e){var t=e.totalDownVotes,a=e.totalUpVotes,e=e.playerCount,t=d(a,t),e=v(e);return x().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats"},x().createElement("span",{className:"info-label icon-votes-gray"}),t?x().createElement("span",{className:"info-label vote-percentage-label"},t):x().createElement("span",{className:"info-label no-vote"}),x().createElement("span",{className:"info-label icon-playing-counts-gray"}),x().createElement("span",{className:"info-label playing-counts-label"},e))}function ze(e){return e=e.playerCount,e=v(e),x().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-player-count"},x().createElement("span",{className:"info-label icon-playing-counts-gray"}),x().createElement("span",{className:"info-label playing-counts-label"},e))}function qe(e){var t=e.playerCount,e=e.playerCountStyle,e=ee()("game-card-image-pill",{"hover-only":e===V.Hover});return x().createElement("div",{className:e,"data-testid":"game-tile-player-count-pill"},x().createElement(ze,{playerCount:t}))}function We(e){var t=e.totalDownVotes,a=e.totalUpVotes,n=e.translate,e=Ie.RatingPercentageText,t=(null==(t=u(a,t))?void 0:t.toString())||l;return x().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-rating"},x().createElement("span",{className:"info-label icon-votes-gray"}),x().createElement("span",{className:"info-label vote-percentage-label"},n(e,{percentRating:t})||t+"% Rating"))}function Ke(e){var t=e.iconClassName,e=e.text;return x().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-icon-text-footer"},x().createElement("span",{className:ee()("info-label",t)}),x().createElement("span",{className:"info-label text-label-with-icon"},e))}function Je(e){return e=e.footerText,x().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-friend-activity"},x().createElement("span",{className:"info-label"},e))}function Qe(e){return e=e.user,x().createElement(he.Thumbnail2d,{type:he.ThumbnailTypes.avatarHeadshot,size:he.ThumbnailAvatarHeadshotSize.size48,targetId:e.id,containerClass:"avatar avatar-headshot avatar-headshot-xs",imgClassName:"avatar-card-image",format:he.ThumbnailFormat.png,altName:e.displayName})}function _e(e){var t=e.friendsData,a=e.isOnline,n=Ie.maxFacepileFriendCountValue,n=(null==t?void 0:t.length)>n?n.toString()+"+":(null==t?void 0:t.length)>Be?null==t?void 0:t.length.toString():"",e=n?Be-1:Be,r=ee()("avatar-card",{"avatar-card-online":a});return x().createElement("div",{className:"info-avatar"},n&&x().createElement("div",{className:r},x().createElement("div",{className:"avatar-count-container"},x().createElement("span",{className:"avatar-count info-label"},n))),t.slice(0,e).map(function(e){return x().createElement("div",{className:r,key:e.displayName},x().createElement(Qe,{user:e}))}))}function Xe(e){var t=e.friendsData,e=e.isOnline;if(0===t.length)throw new Error("friendData should not be empty");return x().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-"+(e?"online":"offline")+"-friends-facepile"},x().createElement(_e,{friendsData:t,isOnline:e}),x().createElement("span",{className:"info-label"},t.map(function(e){return e.displayName}).join(", ")))}function Ye(e){var t=e.friendData,a=e.gameData,n=e.translate,r=(0,D.useState)(!1),e=r[0],i=r[1];if(0===t.length)throw new Error("friendData should not be empty");return x().createElement("div",{className:"game-card-friend-info game-card-info","data-testid":"game-tile-stats-friends"},x().createElement("div",{className:"info-avatar",style:{width:22*(t.slice(0,Be).length-1)+32+"px"}},t.slice(0,Be).map(function(e){return x().createElement("div",{className:"avatar-card",role:"button",tabIndex:0,key:e.displayName,onClick:function(e){e.stopPropagation(),e.preventDefault(),i(!0)},onKeyDown:function(e){e.code===je.enter&&(e.stopPropagation(),e.preventDefault(),i(!0))}},x().createElement(Qe,{user:e}))})),n&&x().createElement("span",{className:"info-label text-overflow","data-testid":"game-tile-stats-info-label"},t.length>Fe?n(re.LabelPlayingOnePlusUsersWithComma,{username:t[0].displayName,count:t.length-Fe}):n(re.LabelPlayingOneUser,{user:t[0].displayName})),x().createElement(Ze,{friendsDataInGame:t,game:a,show:e,onHide:function(e){e.stopPropagation(),e.preventDefault(),i(!1)}}))}ke.defaultProps={page:P.HomePage,isVisible:!0},qe.defaultProps={playerCountStyle:void 0},Ye.defaultProps={translate:void 0};var Ze=(0,o.withTranslations)(function(e){var t=e.show,a=e.onHide,n=e.friendsDataInGame,r=e.game,e=e.translate;return x().createElement(te.Modal,{show:t,onHide:a,size:"lg"},x().createElement(Ue,{friendsData:n.map(function(e){return He(He({},e),{nameForDisplay:e.displayName})}),friendsInGame:n.map(function(e){return e.id}),game:r,dismissModal:a,translate:e}))},t),$e=function(e,o,l,s){return new(l=l||Promise)(function(a,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?a(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,r)}i((s=s.apply(e,o||[])).next())})},et=function(a,n){var r,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(a,l)}catch(e){t=[6,e],i=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};(c=(0,D.forwardRef)(function(e,t){var a=e.id,n=e.buildEventProperties,r=e.gameData,i=e.page,o=void 0===i?P.HomePage:i,l=e.className,i=void 0===l?"grid-item-container game-card-container":l,l=e.friendData,s=void 0===l?[]:l,l=e.isVisible,l=void 0===l||l,e=e.shouldShowMetadata,c=void 0===e||e,e=(0,D.useState)(),u=e[0],d=e[1],m=(0,D.useMemo)(function(){return I(s,r.universeId)},[s,r.universeId]);(0,D.useEffect)(function(){void 0===u&&0<m.length&&$e(void 0,void 0,void 0,function(){var t;return et(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,ye(r.placeId.toString())];case 1:return t=e.sent(),d(t),[3,3];case 2:return t=e.sent(),console.error(t),[3,3];case 3:return[2]}})})},[m,u]);return x().createElement("div",{ref:t,className:i,"data-testid":"game-tile"},x().createElement(ke,{id:a,isVisible:l,buildEventProperties:n,gameData:r,page:o},c?0<m.length&&u?x().createElement(Ye,{friendData:m,gameData:u}):null!=r&&r.friendActivityTitle?x().createElement(Je,{footerText:r.friendActivityTitle}):x().createElement(Ve,{totalUpVotes:r.totalUpVotes,totalDownVotes:r.totalDownVotes,playerCount:r.playerCount}):x().createElement(x().Fragment,null)))})).displayName="GameTile";var tt=c;(c=function(e){var t=e.placeId,a=e.clientReferralUrl,n=e.buttonClassName,r=e.purchaseIconClassName,i=(0,D.useState)(void 0),o=i[0],l=i[1],e=(0,D.useState)(void 0),i=e[0],s=e[1];if((0,D.useEffect)(function(){ye(t).then(function(e){return l(e)}).catch(function(){s(!0)})},[t]),void 0===o&&!i)return x().createElement(nt,null);n=ee()(n,"btn-full-width");return x().createElement(x().Fragment,null,x().createElement(te.Link,{"data-testid":"hover-tile-purchase-button",className:n,url:a||(null==o?void 0:o.url)},x().createElement("span",{className:r}),x().createElement("span",{className:"btn-text"},(null==o?void 0:o.price)||"--")," "))}).defaultProps={clientReferralUrl:""};var at=c,nt=function(){return x().createElement("div",{className:"shimmer play-button game-card-thumb-container","data-testid":"play-button-default"})};function rt(a,n){var r;return void 0===n&&(n=300),[function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(r),r=setTimeout(function(){a.apply(void 0,e)},n)},function(){clearTimeout(r)}]}(c=function(e){var t=e.universeId,a=e.placeId,n=e.playButtonEventProperties,r=e.buttonClassName,i=e.purchaseIconClassName,o=e.clientReferralUrl,l=e.shouldPurchaseNavigateToDetails,s=p.PlayButton.usePlayabilityStatus,e=p.PlayButton.PlayabilityStatuses,c=p.PlayButton.PlayButton,u=p.PlayButton.PurchaseButton,s=s(t),d=s[0],m=s[1];switch(d){case void 0:return x().createElement(nt,null);case e.GuestProhibited:case e.Playable:return x().createElement(c,{universeId:t,placeId:a,status:d,eventProperties:n,buttonClassName:r});case e.PurchaseRequired:return l?x().createElement(at,{placeId:a,clientReferralUrl:o,purchaseIconClassName:null!=i?i:"icon-common-play",buttonClassName:null!=r?r:"btn-growth-lg play-button"}):x().createElement(u,{universeId:t,placeId:a,iconClassName:null!=i?i:"icon-common-play",refetchPlayabilityStatus:m,buttonClassName:r});case e.UniverseRootPlaceIsPrivate:return x().createElement("div",{className:null!=r?r:"btn-growth-lg play-button"},x().createElement("span",{className:"icon-status-private"}));default:return x().createElement("div",{className:null!=r?r:"btn-growth-lg play-button"},x().createElement("span",{className:"icon-status-unavailable"}))}}).defaultProps={playButtonEventProperties:{},buttonClassName:void 0,purchaseIconClassName:void 0,clientReferralUrl:void 0,shouldPurchaseNavigateToDetails:!1};var it=c;(c=x().forwardRef(function(e,t){var a=e.gameData,n=e.id,r=e.buildEventProperties,i=e.friendData,o=void 0===i?[]:i,l=e.playerCountStyle,s=e.translate,c=0===n,u=n===Ee.maxGridTilesPerCarouselPage-1,d=(0,D.useState)(!1),m=d[0],f=d[1],i=rt(function(){f(!0)},100),p=i[0],v=i[1],e=rt(function(){f(!1)},100),g=e[0],y=e[1],d=function(){y(),p()},i=function(){v(),g()},e=M(a.placeId,a.name,r(a,n)),e=r?M(a.placeId,a.name,r(a,n)):e,n=r(a,n),h=(0,D.useMemo)(function(){return I(o,a.universeId)},[o,a.universeId]),b=(0,D.useMemo)(function(){return function(e,t){if(!t)return[];var a=new Map(e.map(function(e){return[e.id,e]}));return t.map(function(e){return a.get(e.userId)}).filter(function(e){return void 0!==e})}(o,a.friendVisits)},[o,a.friendVisits]);return x().createElement("li",{className:ee()("list-item","hover-game-tile","grid-tile",{"first-tile":c},{"last-tile":u},{focused:m}),"data-testid":"grid-tile",onMouseOver:d,onMouseLeave:i,onFocus:d,onBlur:i,id:a.universeId.toString()},a.universeId&&x().createElement("div",{className:"featured-game-container game-card-container",ref:t},x().createElement(te.Link,{url:e,className:"game-card-link"},x().createElement("div",{className:"featured-game-icon-container"},x().createElement(he.Thumbnail2d,{type:he.ThumbnailTypes.gameThumbnail,size:he.ThumbnailGameThumbnailSize.width384,targetId:a.placeId,containerClass:"brief-game-icon",format:he.ThumbnailFormat.jpeg,altName:a.name}),x().createElement(qe,{playerCount:a.playerCount,playerCountStyle:l})),x().createElement("div",{className:"info-container"},x().createElement("div",{className:"game-card-name game-name-title",title:a.name},a.name),x().createElement("div",{className:"grid-tile-metadata"},x().createElement("div",{className:"base-metadata"},0<(null==h?void 0:h.length)?x().createElement(Xe,{friendsData:h,isOnline:!0}):0<(null==b?void 0:b.length)?x().createElement(Xe,{friendsData:b,isOnline:!1}):a.friendVisitedString?x().createElement(Ke,{iconClassName:"icon-pastname",text:a.friendVisitedString}):x().createElement(We,{totalUpVotes:a.totalUpVotes,totalDownVotes:a.totalDownVotes,translate:s})),x().createElement("div",{className:"hover-metadata"},a.minimumAge&&a.ageRecommendationDisplayName?x().createElement("div",{className:"game-card-info","data-testid":"game-tile-hover-age-rating"},x().createElement("span",{className:"info-label"},a.ageRecommendationDisplayName)):null)))),m&&x().createElement("div",{"data-testid":"game-tile-hover-game-tile-contents",className:"game-card-contents"},x().createElement(it,{universeId:a.universeId.toString(),placeId:a.placeId.toString(),playButtonEventProperties:n,buttonClassName:"btn-growth-xs play-button",purchaseIconClassName:"icon-robux-white",clientReferralUrl:e,shouldPurchaseNavigateToDetails:!0}))))})).displayName="HoverGameTile";var ot=c,lt=function(){return(lt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},st=function(e,t){var a={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};(c=(0,D.forwardRef)(function(e,t){var a=e.componentType,n=st(e,["componentType"]);switch(a){case F.AppGameTileNoMetadata:return x().createElement(tt,lt({ref:t,shouldShowMetadata:!1},n));case F.GridTile:return x().createElement(ot,lt({ref:t},n));default:return x().createElement(tt,lt({ref:t},n))}})).displayName="GameTileTypeMap";var ct=c,ut=(0,D.forwardRef)(function(e,t){var a=e.gameData,n=e.buildEventProperties,r=e.translate,i=e.friendData,o=e.componentType,l=e.playerCountStyle,s=e.tileRef,e=ee()("game-carousel",{"grid-tile-carousel":o===F.GridTile});return x().createElement("div",{"data-testid":"game-carousel",ref:t,className:e},a.map(function(e,t){return x().createElement(ct,{componentType:o,playerCountStyle:l,ref:s,key:t,id:t,gameData:e,translate:r,buildEventProperties:n,friendData:i})}))});ut.displayName="GameCarousel";var dt=function(t,e,a){var n=(0,D.useState)(new Set),r=n[0],i=n[1],n=(0,D.useState)(new Set),o=n[0],l=n[1],s=(0,D.useRef)(null),c=(0,D.useRef)(a);(0,D.useEffect)(function(){c.current=a},[a]);var u=(0,D.useCallback)(function(){g(Array.from(o).filter(function(e){return!r.has(e)}),Ie.maxTilesInGameImpressionsEvent).filter(function(e){return 0<e.length}).forEach(function(a){var e,t=c.current(a);void 0!==t&&0<(null===(e=t.absPositions)||void 0===e?void 0:e.length)&&(t=z.gameImpressions(t),f.eventStreamService.sendEvent.apply(f.eventStreamService,t),i(function(e){var t=e;return a.forEach(function(e){return t.add(e)}),t}))})},[r,o]),n=rt(function(){return u()}),d=n[0],m=n[1];(0,D.useEffect)(function(){var e,i=Array.from(null!==(e=null===(e=null==t?void 0:t.current)||void 0===e?void 0:e.children)&&void 0!==e?e:[]);return s.current=f.elementVisibilityService.observeChildrenVisibility({elements:i,threshold:Ie.gameImpressionsIntersectionThreshold},function(e,t){m();var a,n,r=(a=t,n=[],e.forEach(function(t){var e;null==t||!t.isIntersecting||0<=(e=i.findIndex(function(e){return e===t.target}))&&(n.push(e),a.unobserve(t.target))}),n.sort(function(e,t){return e-t}));l(function(e){var t=e;return r.forEach(function(e){return t.add(e)}),t}),d()}),function(){null!=s&&s.current&&s.current()}},[t,e,o,d,m])},mt=function(){return(mt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};(c=function(e){var t=e.translate,a=e.friendsPresence,n=e.gameData,r=e.sort,i=e.positionId,o=e.componentType,l=e.playerCountStyle,s=(0,D.useRef)(null),c=(0,D.useRef)(null),u=H(R.HomePageSessionInfo),e=(0,D.useCallback)(function(e){if(void 0!==n){var t=e.filter(function(e){return e<(null==n?void 0:n.length)});return mt(mt(((e={})[C.RootPlaceIds]=t.map(function(e){return n[e].placeId}),e[C.UniverseIds]=t.map(function(e){return n[e].universeId}),e),m(n,t)),((e={})[C.AbsPositions]=t,e[C.SortPos]=i,e[C.GameSetTypeId]=r.topicId,e[C.Page]=P.HomePage,e[R.HomePageSessionInfo]=u,e))}},[n,u,i,r.topicId]);dt(s,n.length,e);e=N(r.topic,P.HomePage,{position:i,sortId:r.topicId,page:P.HomePage,treatmentType:r.treatmentType,homePageSessionInfo:u});return x().createElement(x().Fragment,null,x().createElement("div",{className:"container-header"},x().createElement("h2",null,x().createElement(te.Link,{url:e},r.topic)),x().createElement(te.Link,{url:e,className:"btn-secondary-xs see-all-link-icon btn-more"},t(oe.ActionSeeAll))),x().createElement(ut,{ref:s,tileRef:c,gameData:n,friendData:a,buildEventProperties:function(e,t){var a={};return a[C.PlaceId]=e.placeId,a[C.UniverseId]=e.universeId,a[C.IsAd]=e.isSponsored,a[C.NativeAdData]=e.nativeAdData,a[C.Position]=t,a[C.SortPos]=i,a[C.NumberOfLoadedTiles]=(n||[]).length,a[C.GameSetTypeId]=r.topicId,a[C.Page]=P.HomePage,a[R.HomePageSessionInfo]=u,a},translate:t,componentType:o,playerCountStyle:l}))}).defaultProps={componentType:void 0,playerCountStyle:void 0};var ft=c,pt=function(){return(pt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},vt=function(e,o,l,s){return new(l=l||Promise)(function(a,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?a(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,r)}i((s=s.apply(e,o||[])).next())})},gt=function(a,n){var r,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(a,l)}catch(e){t=[6,e],i=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function yt(){function n(e){(e.detail||[]).forEach(function(e){i.current[e.userId]&&(i.current[e.userId]=pt(pt({},i.current[e.userId]),{presence:e}))}),r(pt({},i.current))}var e=this,t=(0,D.useState)({}),a=t[0],r=t[1],i=(0,D.useRef)(a);return(0,D.useEffect)(function(){return vt(e,void 0,void 0,function(){var t,a;return gt(this,function(e){switch(e.label){case 0:if((null==(t=le.deviceMeta.getDeviceMeta())?void 0:t.deviceType)!==le.deviceMeta.DeviceTypes.computer)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,ge()];case 2:return a=e.sent().userData,a=(a||[]).reduce(function(e,t){return e[t.id]=t,e},{}),i.current=a,r(pt({},i.current)),document.addEventListener("Roblox.Presence.Update",n),[3,4];case 3:return a=e.sent(),console.error("useFriendsPresence failed to initialized with the error",a),[3,4];case 4:return[2]}})}),function(){document.removeEventListener("Roblox.Presence.Update",n)}},[]),Object.values(a)}function ht(){var e=(0,D.useContext)(Tt);return{contentMetadata:e.contentMetadata,appendContentMetadata:e.appendContentMetadata}}function bt(e,n){return e.map(function(e){var t=e.contentType,a=e.contentId,e=e.contentMetadata,t=null===(t=null==n?void 0:n[t])||void 0===t?void 0:t[a];if(t){a=Ct({},t),e=null==e?void 0:e.EncryptedAdTrackingData;return a.isSponsored=0<(null==e?void 0:e.length),a.nativeAdData=e,a}return t}).filter(function(e){return void 0!==e})}function It(e){return"recommendationList"in e}function Pt(e){return"games"in e}function Et(e){if(It(e))return e.topicLayoutData}function St(e,t){return It(e)?bt(e.recommendationList,t):Pt(e)?e.games:[]}function wt(e){var t=function(e){if(e&&Pt(e))return e.gameSetTargetId}(e);return void 0!==t?((e={})[C.GameSetTargetId]=t,e):{}}function Nt(e){var t=e.scrollClassNames,a=e.scrollIconClassName,n=e.scroll,e=e.isDisabled;return x().createElement("div",{"data-testid":"game-carousel-scroll-bar",className:t,onClick:n,"aria-disabled":e,onKeyDown:function(e){e.code===Gt.enter&&(e.stopPropagation(),e.preventDefault(),n())},role:"button",tabIndex:0},x().createElement("div",{className:"arrow"},x().createElement("span",{className:a})),x().createElement("div",{className:"spacer"}))}var Tt=(0,D.createContext)({contentMetadata:null,appendContentMetadata:function(){}}),Ct=function(){return(Ct=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Gt=Ie.keyBoardEventCode,Rt=s.numGameCarouselLookAheadWindows;(s=function(e){var t=e.gameData,a=e.page,n=e.gamesContainerRef,r=e.buildEventProperties,i=e.loadMoreGames,o=e.isLoadingMoreGames,l=e.translate,s=(0,D.useRef)(null),c=(0,D.useRef)(null),u=(0,D.useRef)(null),e=(0,D.useState)(0),d=e[0],m=e[1],e=(0,D.useState)(!1),f=e[0],p=e[1],e=(0,D.useState)(!0),v=e[0],g=e[1],e=(0,D.useState)(!0),y=e[0],h=e[1],e=(0,D.useState)(),b=e[0],I=e[1],e=(0,D.useState)(0),P=e[0],E=e[1],e=(0,D.useCallback)(function(t){function e(){var e=null===(e=null==t?void 0:t.getBoundingClientRect())||void 0===e?void 0:e.width;e&&I(e)}return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[]),S=(0,D.useMemo)(function(){var e=null===(e=null===(e=null==c?void 0:c.current)||void 0===e?void 0:e.getBoundingClientRect())||void 0===e?void 0:e.width;return void 0!==b&&void 0!==e?Math.max(1,Math.floor(b/e)):0},[b]);(0,D.useEffect)(function(){var e;g(0<=P),o?h(!0):(e=null===(e=null==s?void 0:s.current)||void 0===e?void 0:e.getBoundingClientRect().width,void 0!==b&&void 0!==e&&Math.abs(P)+b>=e?h(!0):h(!1))},[P,b,null==t?void 0:t.length,o]);var w=(0,D.useCallback)(function(){d+Rt*S>=(null==t?void 0:t.length)&&i&&!o&&i()},[d,S,i,o,null==t?void 0:t.length]),N=(0,D.useCallback)(function(){var e=null===(e=null===(e=null==c?void 0:c.current)||void 0===e?void 0:e.getBoundingClientRect())||void 0===e?void 0:e.width;return void 0===e?0:S*e},[S]),T=(0,D.useCallback)(function(){var t;v||(t=N(),E(function(e){return Math.min(e+t,0)}),m(function(e){return e-S}))},[N,v,S]),C=(0,D.useCallback)(function(){var a;y||(a=N(),E(function(e){if(null!=s&&s.current){var t=null===(t=s.current.getBoundingClientRect())||void 0===t?void 0:t.width;return Math.max(e-a,-1*t)}return e-a}),m(function(e){return e+S}),w())},[w,N,y,S]),G=(0,D.useCallback)(function(e){return d<=e&&e<d+S},[d,S]),R=(0,D.useCallback)(function(e){f||(p(!0),e(),setTimeout(function(){p(!1)},200))},[f]);return x().createElement("div",{"data-testid":"game-carousel",className:"horizontal-scroller games-list"},x().createElement("div",{ref:e,className:"clearfix horizontal-scroll-window"},x().createElement("div",{ref:s,className:"horizontally-scrollable",style:{left:P+"px"}},x().createElement("ul",{ref:n,className:"hlist games game-cards game-tile-list"},t.map(function(e,t){return x().createElement("li",{key:e.universeId,ref:c,className:"list-item game-card game-tile"},x().createElement(ct,{ref:u,id:t,isVisible:G(t),page:a,gameData:e,className:"game-card-container",translate:l,buildEventProperties:r}))}))),x().createElement(Nt,{scrollClassNames:ee()("scroller","prev",{disabled:v}),scrollIconClassName:"icon-games-carousel-left",isDisabled:v,scroll:function(){return R(T)}}),x().createElement(Nt,{scrollClassNames:ee()("scroller","next",{disabled:y}),scrollIconClassName:"icon-games-carousel-right",isDisabled:y,scroll:function(){return R(C)}})))}).defaultProps={loadMoreGames:void 0};var Dt=s,xt=function(){return(xt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};(s=function(e){var t=e.translate,n=e.gameData,r=e.sort,i=e.page,o=e.positionId,a=e.isLoadingMoreGames,l=e.loadMoreGames,s=(0,D.useRef)(null),c=H(R.DiscoverPageSessionInfo),e=(0,D.useCallback)(function(e){if(void 0!==n){var t=e.filter(function(e){return e<(null==n?void 0:n.length)});return xt(xt(xt(xt(((e={})[C.RootPlaceIds]=t.map(function(e){return n[e].placeId}),e[C.UniverseIds]=t.map(function(e){return n[e].universeId}),e),m(n,t)),((e={})[C.AbsPositions]=t,e[C.SortPos]=o,e[C.GameSetTypeId]=r.topicId,e)),wt(r)),((e={})[C.Page]=i,e[C.NumberOfLoadedTiles]=(n||[]).length,e[R.DiscoverPageSessionInfo]=c,e))}},[n,c,o,r,i]);dt(s,n.length,e);e=(0,D.useMemo)(function(){var e=xt(xt(((e={})[C.Position]=o,e[C.GameSetTypeId]=r.topicId,e),wt(r)),((e={})[C.Page]=i,e[C.TreatmentType]=B.Carousel,e[R.DiscoverPageSessionInfo]=c,e));return N(r.sortId,i,e)},[c,i,o,r]);return x().createElement("div",{className:"games-list-container"},x().createElement("div",{className:"container-header games-filter-changer"},x().createElement("h2",null,x().createElement(te.Link,{url:e},r.topic)),x().createElement(te.Link,{url:e,className:"btn-secondary-xs see-all-link-icon btn-more"},t(oe.ActionSeeAll))),x().createElement(Dt,{gamesContainerRef:s,gameData:n,loadMoreGames:l,isLoadingMoreGames:a,buildEventProperties:function(e,t){var a;return xt(xt(((a={})[C.PlaceId]=e.placeId,a[C.UniverseId]=e.universeId,a[C.IsAd]=e.isSponsored,a[C.NativeAdData]=e.nativeAdData,a[C.Position]=t,a[C.SortPos]=o,a[C.GameSetTypeId]=r.topicId,a),wt(r)),((a={})[C.NumberOfLoadedTiles]=(n||[]).length,a[C.Page]=i,a[R.DiscoverPageSessionInfo]=c,a))},translate:t,page:i}))}).defaultProps={loadMoreGames:void 0};var Mt=s;function Ot(e){var t=e.sort,r=ht().contentMetadata;return 0===(null==(e=(0,D.useMemo)(function(){return t.recommendationList.map(function(e){var t,a=e.contentType,n=e.contentId,e=null===(t=null==r?void 0:r[a])||void 0===t?void 0:t[n];return e&&((t=e).itemId=n,t.itemType=a),e}).filter(function(e){return e}).slice(0,kt)},[t.recommendationList,r]))?void 0:e.length)?null:x().createElement(p.AvatarShopHomepageRecommendations,{recommendedItems:e})}function At(e){var t=e.loadData,a=(0,D.useRef)(null),n=(0,D.useRef)(null);return(0,D.useEffect)(function(){var e=a.current;return e&&(n.current=f.elementVisibilityService.observeVisibility({element:e,threshold:Pe},function(e){e&&t&&t()})),function(){null!=n&&n.current&&n.current()}},[t]),t?x().createElement("div",{ref:a,"data-testid":"sentinel-tile",className:"grid-item-container game-card-container invisible"}):null}(s=function(e){var t=e.translate,a=e.sort,n=e.positionId,r=e.page,i=e.loadMoreGames,o=e.isLoadingMoreGames,l=yt(),s=ht().contentMetadata,c=null===(e=Et(a))||void 0===e?void 0:e.componentType,e=(0,D.useMemo)(function(){return St(a,s).slice(0,function(e,t){var a=be.maxGridTilesPerCarouselPage,n=be.maxTilesPerCarouselPage;if(e!==P.GamesPage)switch(t){case F.GridTile:return a;case F.AppGameTileNoMetadata:default:return n}}(r,c))},[a,s,c,r]);return 0===(null==e?void 0:e.length)?null:r===P.GamesPage?x().createElement(Mt,{key:a.topic,sort:a,translate:t,positionId:n,page:r,gameData:e,loadMoreGames:i,isLoadingMoreGames:!0===o}):x().createElement(ft,{key:a.topic,sort:a,translate:t,positionId:n,gameData:e,friendsPresence:l,componentType:c,playerCountStyle:null===(l=Et(a))||void 0===l?void 0:l.playerCountStyle})}).defaultProps={loadMoreGames:void 0,isLoadingMoreGames:void 0};var Lt=s,kt=be.maxTilesPerCarouselPage;At.displayName="SentinelTile",At.defaultProps={loadData:null};var Ut=(0,D.forwardRef)(function(e,t){var a=e.translate,n=e.id,r=e.buildEventProperties,e=e.gameData;return x().createElement("div",{ref:t,className:"grid-item-container game-card-container","data-testid":"game-tile-sponsored"},x().createElement(ke,{id:n,buildEventProperties:r,gameData:e},x().createElement("div",{className:"game-card-native-ad"},x().createElement("div",{className:"native-ad-label"},a(re.LabelSponsoredAd)))))});function Ht(e){var t=e.universeId,a=e.creatorName,n=e.creatorType,r=e.creatorId,i=e.linkUrl,o=e.isCreatorVerified,l=e.translate,e=(0,D.useRef)(null);return x().createElement("div",{ref:e,className:"game-card-creator-name","data-testid":"game-card-creator-name"},x().createElement("span",{className:"text-label creator-name-label"},l(re.LabelByPrefix),"Â "),x().createElement("a",{href:i,onClick:function(){p.EventStream.SendEventWithTarget("buttonClick","featuredTileCreatorLabel",{creatorId:r,creatorType:n,universeId:t},p.EventStream.TargetTypes.WWW)},className:"text-overflow text-label creator-name"},a),o&&x().createElement(jt.VerifiedBadgeIconContainer,{size:jt.BadgeSizes.CAPTIONHEADER}))}Ut.displayName="SponsoredGameTile";var jt=RobloxBadges,Bt=function(e,o,l,s){return new(l=l||Promise)(function(a,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?a(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,r)}i((s=s.apply(e,o||[])).next())})},Ft=function(a,n){var r,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(a,l)}catch(e){t=[6,e],i=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Vt=(0,D.forwardRef)(function(e,t){var a=e.id,n=e.buildEventProperties,r=e.gameData,i=e.translate,o=(0,D.useState)(),l=o[0],s=o[1],c=yt(),u=(0,D.useMemo)(function(){return I(c,r.universeId)},[c,r.universeId]),e=(0,D.useMemo)(function(){return 0<u.length&&l?x().createElement(Ye,{gameData:l,friendData:u,translate:i}):x().createElement("div",{className:"game-card-description-info font-body","data-testid":"featured-grid-tile-description"},null==l?void 0:l.description)},[u]);(0,D.useEffect)(function(){Bt(void 0,void 0,void 0,function(){var t;return Ft(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,ye(r.placeId.toString())];case 1:return t=e.sent(),s(t),[3,3];case 2:return t=e.sent(),console.error(t),[3,3];case 3:return[2]}})})},[]);var o=w(r.placeId,r.name,n(r,a)),a=n(r,a);return x().createElement("div",{ref:t,className:"featured-grid-item-container game-card-container","data-testid":"game-tile-featured"},x().createElement(te.Link,{url:o,className:"game-card-link",id:r.universeId.toString()},x().createElement(he.Thumbnail2d,{type:he.ThumbnailTypes.gameIcon,size:he.ThumbnailGameIconSize.size512,targetId:r.universeId,containerClass:"game-card-thumb-container",format:he.ThumbnailFormat.jpeg,altName:r.name}),x().createElement("div",{className:"game-card-name-info"},x().createElement("div",null,x().createElement("div",{className:"game-card-name game-name-title",title:r.name},r.name),x().createElement(Ve,{totalUpVotes:r.totalUpVotes,totalDownVotes:r.totalDownVotes,playerCount:r.playerCount})),x().createElement(it,{universeId:r.universeId.toString(),placeId:r.placeId.toString(),playButtonEventProperties:a})),null!==r.creatorName&&x().createElement(Ht,{universeId:r.universeId.toString(),creatorId:r.creatorId,creatorType:r.creatorType,creatorName:r.creatorName,isCreatorVerified:null!==(a=r.creatorHasVerifiedBadge)&&void 0!==a&&a,linkUrl:o,translate:i}),e))});Vt.displayName="FeaturedGridTile";var zt=function(){return(zt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},qt=function(e,t){var a={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a},Wt=(0,D.forwardRef)(function(e,t){var a=e.emphasis,n=e.friendData,r=e.componentType,i=e.playerCountStyle,e=qt(e,["emphasis","friendData","componentType","playerCountStyle"]);return e.gameData.isShowSponsoredLabel?x().createElement(Ut,zt({ref:t},e)):a?x().createElement(Vt,zt({ref:t},e)):x().createElement(ct,zt({ref:t,friendData:n,componentType:r,playerCountStyle:i},e))});Wt.displayName="GameGridTile",Wt.defaultProps={friendData:[],componentType:void 0,playerCountStyle:void 0};var Kt=(0,D.forwardRef)(function(e,t){var a=e.gameData,n=e.translate,r=e.emphasis,i=e.buildEventProperties,o=e.tileRef,l=e.loadData,s=e.shouldUseSentinelTile,c=e.friendsPresence,u=e.componentType,d=e.playerCountStyle,m=e.isHomeGameGrid,e=ee()("game-grid",{"home-game-grid":m},{"grid-tile-game-grid":u===F.GridTile});return x().createElement("div",{"data-testid":"game-grid",ref:t,className:e},a.map(function(e,t){return x().createElement(Wt,{ref:function(e){(!0===r&&1===t||!1===r&&0===t)&&o&&(o.current=e)},key:t,id:t,gameData:e,translate:n,buildEventProperties:i,emphasis:!0===r&&0===t&&!m,friendData:c,componentType:u,playerCountStyle:d})}),s&&x().createElement(At,{loadData:l}))});Kt.displayName="GameGrid",Kt.defaultProps={friendsPresence:[],componentType:void 0,playerCountStyle:void 0,isHomeGameGrid:!1};var Jt=function(){return(Jt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Qt(e){var t=e.translate,a=e.sort,n=e.positionId,r=e.itemsPerRow,i=e.recommendations,o=yt(),l=H(R.HomePageSessionInfo),s=(u=ht()).contentMetadata,c=u.appendContentMetadata,u=null===(e=Et(a))||void 0===e?void 0:e.componentType,d=(0,D.useCallback)(function(){var e=i.filter(function(e){var t=e.contentType,e=e.contentId;return!(null!==(t=null==s?void 0:s[t])&&void 0!==t&&t[e])});0<e.length&&$(e.slice(0,Xt),l).then(function(e){return c(e.contentMetadata)}).catch(function(){})},[i,l,s,c]);return(0,D.useEffect)(function(){d()},[d]),0===(null==(e=(0,D.useMemo)(function(){return bt(i,s)},[i,s]))?void 0:e.length)?null:x().createElement(_t,{key:a.topic,sort:a,gameData:e,translate:t,positionId:n,itemsPerRow:r,friendsPresence:o,componentType:u,playerCountStyle:null===(a=Et(a))||void 0===a?void 0:a.playerCountStyle})}(s=function(e){var n=e.gameData,r=e.sort,i=e.positionId,t=e.friendsPresence,a=e.componentType,o=e.playerCountStyle,l=e.itemsPerRow,s=e.translate,c=(0,D.useRef)(null),u=(0,D.useRef)(null),d=H(R.HomePageSessionInfo),e=(0,D.useCallback)(function(e){if(void 0!==n){var t=e.filter(function(e){return e<(null==n?void 0:n.length)});return Jt(Jt(((e={})[C.RootPlaceIds]=t.map(function(e){return n[e].placeId}),e[C.UniverseIds]=t.map(function(e){return n[e].universeId}),e[C.AbsPositions]=t,e),m(n,t)),((t={})[C.SortPos]=i,t[C.NumberOfLoadedTiles]=null==n?void 0:n.length,t[C.GameSetTypeId]=r.topicId,t[C.Page]=P.HomePage,t[R.HomePageSessionInfo]=d,t))}},[n,d,i,r.topicId]);return dt(c,n.length,e),(0,D.useEffect)(function(){l&&null!=c&&c.current&&c.current.style.setProperty("--items-per-row",l.toString())},[l]),x().createElement("div",{"data-testid":"home-page-game-grid"},x().createElement("div",{className:"container-header"},x().createElement("h2",null,r.topic)),x().createElement(Kt,{ref:c,tileRef:u,gameData:n,emphasis:!1,translate:s,buildEventProperties:function(e,t){var a={};return a[C.PlaceId]=e.placeId,a[C.UniverseId]=e.universeId,a[C.IsAd]=e.isSponsored,a[C.NativeAdData]=e.nativeAdData,a[C.Position]=t,a[C.SortPos]=i,a[C.NumberOfLoadedTiles]=(n||[]).length,a[C.GameSetTypeId]=r.topicId,a[C.Page]=P.HomePage,a[R.HomePageSessionInfo]=d,a},isHomeGameGrid:!0,friendsPresence:t,componentType:a,playerCountStyle:o}))}).defaultProps={componentType:void 0,playerCountStyle:void 0,itemsPerRow:void 0};var _t=s,Xt=be.sortlessGridMaxTilesMetadataToFetch;function Yt(){return x().createElement("div",{className:"grid-item-container game-card-container game-card-loading"},x().createElement("div",{className:"game-card-thumb-container shimmer"}),x().createElement("div",{className:"game-card-name game-name-title shimmer"}),x().createElement("div",{className:"game-card-name game-name-title game-name-title-half shimmer"}))}(s=function(e){var t=e.translate,a=e.sort,n=e.positionId,r=e.currentPage,i=e.itemsPerRow,o=e.gridRecommendations,l=e.loadMoreGames,s=e.isLoadingMoreGames;switch(a.treatmentType){case B.Carousel:return x().createElement(Lt,{translate:t,sort:a,positionId:n,page:r,loadMoreGames:l,isLoadingMoreGames:s});case B.AvatarCarousel:return x().createElement(Ot,{sort:a});case B.SortlessGrid:return x().createElement(Qt,{translate:t,sort:a,positionId:n,itemsPerRow:i,recommendations:null!=o?o:[]});default:return null}}).defaultProps={loadMoreGames:void 0,isLoadingMoreGames:void 0,gridRecommendations:[]};var Zt,$t=s;function ea(e){var a=e.translate,t=e.homePageSessionInfo,n=(0,D.useState)(void 0),r=n[0],i=n[1],o=(c=(0,D.useState)(!1))[0],l=c[1],s=(0,D.useCallback)(function(){l(!1),Z(Zt.Home,t).then(function(e){return i(e)}).catch(function(){return l(!0)})},[t]);(0,D.useEffect)(function(){s()},[s]);var e=(0,D.useCallback)(function(a){i(function(e){var t;return e&&aa(aa({},e),{contentMetadata:((t={})[j.Game]=aa(aa({},e.contentMetadata[j.Game]),a[j.Game]),t[j.CatalogAsset]=aa(aa({},e.contentMetadata[j.CatalogAsset]),a[j.CatalogAsset]),t[j.CatalogBundle]=aa(aa({},e.contentMetadata[j.CatalogBundle]),a[j.CatalogBundle]),t)})})},[]),c=(n=ta(r)).homeFeedRef,u=n.gridRecommendationsMap,d=n.itemsPerRowMap;return o?x().createElement("div",{className:"game-home-page-container","data-testid":"HomePageContainerTestId"},x().createElement("h2",null,a(ie.LabelGames)),x().createElement(ne,{errorMessage:a(ie.LabelApiError),onRefresh:s})):void 0===r?x().createElement("div",{className:"game-home-page-container","data-testid":"HomePageContainerTestId"},x().createElement("div",{className:"game-home-page-loading-title shimmer"}),x().createElement("div",{className:"game-home-page-loading-carousel"},Array.from({length:na},function(e,t){return x().createElement(Yt,{key:t})}))):x().createElement("div",{className:"game-home-page-container","data-testid":"HomePageContainerTestId"},x().createElement("div",{ref:c},x().createElement(Tt.Provider,{value:{contentMetadata:r.contentMetadata,appendContentMetadata:e}},r.sorts.map(function(e,t){return x().createElement($t,{key:t,translate:a,sort:e,positionId:t,currentPage:P.HomePage,itemsPerRow:d.get(t),gridRecommendations:null!==(t=u.get(t))&&void 0!==t?t:[]})}))))}(s={}).Melee="Melee",s.Ranged="Ranged",s.Explosive="Explosive",s.PowerUps="PowerUps",s.Navigation="Navigation",s.Music="Music",s.Social="Social",s.Building="Building",s.PersonalTransport="PersonalTransport",(s=Zt=Zt||{}).Home="Home",s.Games="Games",(s={}).Invalid="Invalid",s.HasLootBoxes="HasLootBoxes",s.HasInGameTrading="HasInGameTrading",s.IsUsingLootBoxApi="IsUsingLootBoxApi",s.IsUsingInGameTradingApi="IsUsingInGameTradingApi",s.HasAllowedExternalLinkReferences="HasAllowedExternalLinkReferences",s.IsUsingAllowedExternalLinkReferencesApi="IsUsingAllowedExternalLinkReferencesApi",(s={}).MorphToR6="MorphToR6",s.PlayerChoice="PlayerChoice",s.MorphToR15="MorphToR15";var ta=function(r){var e=(0,D.useState)(new Map),t=e[0],a=e[1],e=(0,D.useState)(new Map),s=e[0],i=e[1],n=(0,o.usePrevious)(s);return(0,D.useEffect)(function(){void 0!==n&&JSON.stringify(Array.from(s.entries()))===JSON.stringify(Array.from(n.entries()))||function(){var i=new Map,o=new Map;null!=r&&r.sorts.forEach(function(e){var t;e.treatmentType===B.SortlessGrid&&((t=null!==(t=i.get(e.topicId))&&void 0!==t?t:[]).push.apply(t,e.recommendationList),i.set(e.topicId,t))});var l=new Map;null!=r&&r.sorts.forEach(function(e,t){var a,n,r;e.treatmentType===B.SortlessGrid&&(a=null!==(n=i.get(e.topicId))&&void 0!==n?n:[],n=null!==(r=o.get(e.topicId))&&void 0!==r?r:0,void 0!==e.numberOfRows&&0<=e.numberOfRows?(r=(null!==(r=s.get(t))&&void 0!==r?r:0)*e.numberOfRows,l.set(t,a.slice(n,n+r)),o.set(e.topicId,n+r)):(l.set(t,a.slice(n)),o.set(e.topicId,a.length)))}),a(l)}()},[null==r?void 0:r.sorts,s,n]),{homeFeedRef:(0,D.useCallback)(function(n){function t(){var a=new Map;null!=r&&r.sorts.forEach(function(e,t){e.treatmentType===B.SortlessGrid&&a.set(t,(t=(null===(e=(t=e).topicLayoutData)||void 0===e?void 0:e.componentType)===F.GridTile,e=null===(e=null==n?void 0:n.getBoundingClientRect())||void 0===e?void 0:e.width,t?e&&e<be.gridTileTilesPerRowBreakpointWidth?be.minGridTilesPerCarouselPage:be.maxGridTilesPerCarouselPage:e&&e<be.homeFeedMaxWidth?Math.max(1,Math.floor(e/be.gameTileWidth)):be.maxTilesPerCarouselPage))}),i(a)}function e(){var e=null===(e=null==n?void 0:n.getBoundingClientRect())||void 0===e?void 0:e.width;e&&(document.documentElement.style.setProperty("--home-feed-width",e+"px"),t())}return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[null==r?void 0:r.sorts]),gridRecommendationsMap:t,itemsPerRowMap:s}},aa=function(){return(aa=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},na=be.maxTilesPerCarouselPage,ra=(0,o.withTranslations)(function(e){var t=e.translate,e=Q(R.HomePageSessionInfo,!0);return x().createElement(ea,{homePageSessionInfo:e,translate:t})},t);(0,i.ready)(function(){b()&&(0,e.render)(x().createElement(ra,null),b())})}()}();
//# sourceMappingURL=https://js.rbxcdn.com/a8afb8f665e0f29e6cf04fc476ddf226-placesList.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("PlacesList");