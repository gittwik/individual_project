!function(){"use strict";var o={n:function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},d:function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},d=Roblox,e=o.n(d),t=CoreUtilities,p=React,h=o.n(p),n=ReactDOM,r=PropTypes,a=o.n(r),l=ReactUtilities,i="home-page-upsell-card-container",v=ReactStyleGuide,s={ContactMethodEmail:"ContactMethodEmail",ContactMethodPhoneNumber:"ContactMethodPhoneNumber",ContactMethodPhoneNumberEmailHorizontalLayout:"ContactMethodPhoneNumberEmailHorizontalLayout",ContactMethodPhoneNumberEmailHorizontalLayoutAltContent1:"ContactMethodPhoneNumberEmailHorizontalLayoutAltContent1",ContactMethodPhoneNumberEmailVerticalLayout:"ContactMethodPhoneNumberEmailVerticalLayout",FacebookSunset:"FacebookSunset",ContactMethodMandatoryEmailPhone:"ContactMethodMandatoryEmailPhone"},b={ContactMethodEmail:"",ContactMethodPhoneNumber:"Label.DontGetLockedOut",ContactMethodPhoneNumberEmailHorizontalLayout:"Label.DontGetLockedOut",ContactMethodPhoneNumberEmailHorizontalLayoutAltContent1:"Heading.FinishAccountSetup",ContactMethodPhoneNumberEmailVerticalLayout:"Label.DontGetLockedOut",FacebookSunset:""},y={ContactMethodEmail:"Description.HomePageUpsellCardAddEmailText",ContactMethodPhoneNumber:"Description.HomePageUpsellCardAddPhoneText",ContactMethodPhoneNumberEmailHorizontalLayout:"Label.RecoverYourAccount",ContactMethodPhoneNumberEmailHorizontalLayoutAltContent1:"Description.ContactMethodAccessLoss",ContactMethodPhoneNumberEmailVerticalLayout:"Label.RecoverYourAccount",FacebookSunset:"Description.FacebookSetPasswordUpsellText"},c={ContactMethodEmail:"homePageUpsellCard",ContactMethodPhoneNumber:"homePageUpsellCard",ContactMethodPhoneNumberEmailHorizontalLayout:"homePageUpsellCard",ContactMethodPhoneNumberEmailHorizontalLayoutAltContent1:"homePageUpsellCard",ContactMethodPhoneNumberEmailVerticalLayout:"homePageUpsellCard",FacebookSunset:"facebookSunsetCard"},C={ContactMethodEmail:"email",ContactMethodPhoneNumber:"phone",ContactMethodPhoneNumberEmailHorizontalLayout:"emailOrPhone",ContactMethodPhoneNumberEmailHorizontalLayoutAltContent1:"emailOrPhone",ContactMethodPhoneNumberEmailVerticalLayout:"emailOrPhone",FacebookSunset:"facebook"},r="vertical",f="horizontal",S={ContactMethodEmail:{primaryButton:{text:"Action.SecureYourAccount",onClick:null===d.UpsellService||void 0===d.UpsellService?void 0:d.UpsellService.renderEmailUpsell,buttonClickBtnLog:"email"}},ContactMethodPhoneNumber:{primaryButton:{text:"Action.AddPhone",onClick:null===d.UpsellService||void 0===d.UpsellService?void 0:d.UpsellService.renderPhoneUpsell,buttonClickBtnLog:"phone"}},ContactMethodPhoneNumberEmailHorizontalLayout:{primaryButton:{text:"Action.AddPhoneShort",onClick:null===d.UpsellService||void 0===d.UpsellService?void 0:d.UpsellService.renderPhoneUpsell,buttonClickBtnLog:"phone"},secondaryButton:{text:"Action.AddEmail",onClick:null===d.UpsellService||void 0===d.UpsellService?void 0:d.UpsellService.renderEmailUpsell,buttonClickBtnLog:"email"},buttonStackOrientation:f},ContactMethodPhoneNumberEmailHorizontalLayoutAltContent1:{primaryButton:{text:"Action.AddPhoneShort",onClick:null===d.UpsellService||void 0===d.UpsellService?void 0:d.UpsellService.renderPhoneUpsell,buttonClickBtnLog:"phone"},secondaryButton:{text:"Action.AddEmail",onClick:null===d.UpsellService||void 0===d.UpsellService?void 0:d.UpsellService.renderEmailUpsell,buttonClickBtnLog:"email"},buttonStackOrientation:f},ContactMethodPhoneNumberEmailVerticalLayout:{primaryButton:{text:"Action.AddPhone",onClick:null===d.UpsellService||void 0===d.UpsellService?void 0:d.UpsellService.renderPhoneUpsell,buttonClickBtnLog:"phone"},secondaryButton:{text:"Action.AddEmailAddress",onClick:null===d.UpsellService||void 0===d.UpsellService?void 0:d.UpsellService.renderEmailUpsell,buttonClickBtnLog:"email"},buttonStackOrientation:r},FacebookSunset:{primaryButton:{text:"Action.SetPassword",onClick:null===d.FacebookSunsetService||void 0===d.FacebookSunsetService?void 0:d.FacebookSunsetService.openFacebookSunsetModal,buttonClickBtnLog:"setPassword"}}},P={ContactMethodEmail:"",ContactMethodPhoneNumber:"upsell-card-lock-icon-image",ContactMethodPhoneNumberEmailHorizontalLayout:"upsell-card-lock-icon-image",ContactMethodPhoneNumberEmailHorizontalLayoutAltContent1:"upsell-card-lock-icon-image",ContactMethodPhoneNumberEmailVerticalLayout:"upsell-card-lock-icon-image",FacebookSunset:""},u=CoreRobloxUtilities,m=d.EnvironmentUrls.apiGatewayUrl;function g(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function E(o){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach(function(e){var t,n;t=o,e=r[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})}return o}function M(e,t,n,o,r){r=4<arguments.length&&void 0!==r?r:void 0,u.eventStreamService.sendEventWithTarget(e.type,c[n],E(E({},e.params),{},{origin:t,section:o,btn:r}))}var r=u.eventStreamService.eventTypes,k="mandatory",U="homepage",A={cardShown:{name:"cardShown",type:r.modalAction,params:{aType:"shown"}},buttonClick:{name:"buttonClick",type:"buttonClick",params:{}}};function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,r=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(o=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function L(e){var t=e.translate,n=e.cardType,o=e.origin,r=e.titleTextOverride,a=e.bodyTextOverride,l=N((0,p.useState)(!1),2),i=l[0],c=l[1],u=C[n];(0,p.useEffect)(function(){M(A.cardShown,o,n,u)},[]);var d=null===(m=S[n])||void 0===m?void 0:m.primaryButton,e=d?h().createElement(v.Button,{className:"btn-primary-md",id:"upsell-card-primary-button",onClick:function(){M(A.buttonClick,o,n,u,d.buttonClickBtnLog),d.onClick(function(e){c(e)})}},t(d.text)):null,s=null===(l=S[n])||void 0===l?void 0:l.secondaryButton,m=s?h().createElement(v.Button,{className:"btn-secondary-md",id:"upsell-card-secondary-button",onClick:function(){M(A.buttonClick,o,n,u,s.buttonClickBtnLog),s.onClick(function(e){c(e)})}},t(s.text)):null,l=null!==(l=null===(l=S[n])||void 0===l?void 0:l.buttonStackOrientation)&&void 0!==l?l:f,m=h().createElement("div",{className:l===f?"upsell-card-horizontal-button-list":"upsell-card-vertical-button-list"},e,m),r=x(r)?t(b[n]):r,a=x(a)?t(y[n]):a,r=h().createElement("div",{className:"upsell-card-text-content-group"},b[n]?h().createElement("div",{className:"upsell-card-title"}," ",r):null,h().createElement("div",{className:"upsell-card-content"}," ",a)),a=P[n]?h().createElement("div",{className:"home-page-upsell-card-image ".concat(P[n])}):null;return i?null:h().createElement("div",{className:"home-page-upsell-card-banner-container"},h().createElement("div",{className:"banner-contents"},h().createElement("div",{className:"icon-and-text"},a,h().createElement("div",{className:"banner-content-container"},r)),h().createElement("div",{className:"add-email-btn-container"},m),h().createElement("div",{id:"facebookSunsetModal-container"})))}function x(e){return!e||0===e.length}L.defaultProps={origin:"homepage",titleTextOverride:"",bodyTextOverride:""},L.propTypes={translate:a().func.isRequired,cardType:a().string.isRequired,titleTextOverride:a().string,bodyTextOverride:a().string,origin:a().string};var w=L,T=function(e){return!![s.ContactMethodEmail,s.ContactMethodPhoneNumber,s.ContactMethodPhoneNumberEmailHorizontalLayout,s.ContactMethodPhoneNumberEmailHorizontalLayoutAltContent1,s.ContactMethodPhoneNumberEmailVerticalLayout,s.FacebookSunset].includes(e)};function B(e,t,n,o,r,a,l){try{var i=e[a](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(o,r)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,r=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(o=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function z(e){var t=e.translate,n=s.ContactMethodMandatoryEmailPhone,o=H((0,p.useState)(null),2),r=o[0],a=o[1],l=H((0,p.useState)(""),2),e=l[0],c=l[1],o=H((0,p.useState)(""),2),l=o[0],u=o[1];return(0,p.useEffect)(function(){(function(){var i,e=(i=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.HomePageUpsellCardService.getHomePageUpsellCardVariation();case 3:t=e.sent,(null==t?void 0:t.upsellCardType)&&(a(null==t?void 0:t.upsellCardType),c(null==t?void 0:t.localizedTitleTextOverride),u(null==t?void 0:t.localizedBodyTextOverride)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error getting the upsell card variation ".concat(e.t0)),a(null);case 12:case"end":return e.stop()}},e,null,[[0,8]])}),function(){var e=this,l=arguments;return new Promise(function(t,n){var o=i.apply(e,l);function r(e){B(o,t,n,r,a,"next",e)}function a(e){B(o,t,n,r,a,"throw",e)}r(void 0)})});return function(){return e.apply(this,arguments)}})()()}),(0,p.useEffect)(function(){r===n&&null!==d.UpsellService&&void 0!==d.UpsellService&&d.UpsellService.renderContactMethodPromptModal({origin:U,section:k})},[r]),T(r)?h().createElement(w,{translate:t,cardType:r,titleTextOverride:e,bodyTextOverride:l}):null}z.propTypes={translate:a().func.isRequired};var F=z;function R(e){var t=e.translate,e=e.context;return h().createElement(F,{translate:t,context:e})}R.defaultProps={context:s.ContactMethod},R.propTypes={translate:a().func.isRequired,context:a().string};var D=(0,l.withTranslations)(R,{common:[],feature:"Feature.ContactUpsell"});function V(){var e,t=document.getElementById(i);t?null!==(e=t.getAttribute("context"))?(0,n.render)(h().createElement(D,{context:e}),t):(0,n.render)(h().createElement(D,null),t):window.requestAnimationFrame(V)}e().HomePageUpsellCardService={getHomePageUpsellCardVariation:function(){var e={retryable:!1,withCredentials:!0,url:"".concat(m,"/upsellCard/type")};return t.httpService.get(e).then(function(e){return e.data})}},(0,t.ready)(function(){V()})}();
//# sourceMappingURL=https://js.rbxcdn.com/8ad11846dd7a77bf4534b0db37d6b0c7-homePageUpsellCard.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("HomePageUpsellCard");